(function(t){function e(e){for(var n,i,a=e[0],c=e[1],u=e[2],l=0,g=[];l<a.length;l++)i=a[l],r[i]&&g.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(g.length)g.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"06c3":function(t,e,s){},"0a7a":function(t,e,s){},"0d98":function(t,e,s){"use strict";var n=s("4475"),r=s.n(n);r.a},1:function(t,e){},"16d0":function(t,e,s){},"1ced":function(t,e,s){},"1f28":function(t,e,s){},"1f9b":function(t,e,s){},"20ce":function(t,e,s){},"3d85":function(t,e,s){},"3f4e":function(t,e,s){},4071:function(t,e,s){},"40c8":function(t,e,s){},4475:function(t,e,s){},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=o(t);return s(e)}function o(t){var e=n[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="4678"},5122:function(t,e,s){"use strict";var n=s("20ce"),r=s.n(n);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("a026"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("app-header"),t.isChatOpen?s("chat"):t._e(),s("router-view")],1)],1)},o=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"navbar-brand"},[s("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/d7kCfoE.png",width:"170",height:"100"},on:{click:t.goHome}}),s("a",{staticClass:"navbar-burger burger",class:{"is-active":t.isActive},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:t.toggleNav}},[s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"navbar-menu",class:{"is-active":t.isActive},attrs:{id:"navbarBasicExample"}},[s("div",{staticClass:"navbar-start"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v("Home")]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/user"}},[t._v("Users")])],1),s("div",{staticClass:"navbar-end"},[t.getUser?t._e():s("div",[s("div",{staticClass:"navbar-item"},[s("div",{staticClass:"buttons",staticStyle:{"justify-content":"center"}},[s("router-link",{staticClass:"button is-primary",attrs:{to:"/signup"}},[s("strong",[t._v("Sign up")])]),s("button",{staticClass:"button is-light",on:{click:function(e){return t.cardModal()}}},[t._v("Login")])],1)])]),t.getUser?s("div",{staticClass:"navbar-menu",class:{"is-active":t.isActive}},[s("b-dropdown",{attrs:{position:"is-bottom-left","aria-role":"menu"}},[s("a",{staticClass:"navbar-item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[s("v-badge",{attrs:{left:""},scopedSlots:t._u([{key:"badge",fn:function(){return[t.getNotfications?s("span",[t._v(t._s(t.getNotfications.length))]):t._e()]},proxy:!0}],null,!1,2919144387)}),s("span",[t._v("Menu")]),s("b-icon",{attrs:{icon:"menu-down"}})],1),s("b-dropdown-item",{attrs:{custom:"","aria-role":"menuitem"}},[t._v("\n            Logged as\n            "),s("b",[t._v(t._s(t.getUser[0].owner.fullName))])]),s("b-dropdown-item",{attrs:{"aria-role":"menuitem"},on:{click:t.goToMyNotfication}},[s("b-icon",{attrs:{icon:"bell"}}),t._v("Notification's\n          ")],1),s("b-dropdown-item",{attrs:{value:"settings"},on:{click:t.goToMyProfile}},[s("b-icon",{attrs:{icon:"settings"}}),t._v("Profile\n          ")],1),s("hr",{staticClass:"dropdown-divider",attrs:{"aria-role":"menuitem"}}),s("b-dropdown-item",{attrs:{value:"logout","aria-role":"menuitem"},on:{click:t.userLogout}},[s("b-icon",{attrs:{icon:"logout"}}),t._v("Logout\n          ")],1)],1)],1):t._e()])])])},a=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[s("div",{staticClass:"modal-card",staticStyle:{"min-width":"auto"}},[t._m(0),s("section",{staticClass:"modal-card-body"},[s("b-field",{attrs:{label:"Username"}},[s("b-input",{ref:"username",attrs:{type:"text",placeholder:"Your username",required:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),s("b-field",{attrs:{label:"Password"}},[s("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:t.user.pass,callback:function(e){t.$set(t.user,"pass",e)},expression:"user.pass"}})],1)],1),t._m(1)])])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v("Login")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-primary"},[t._v("Login")])])}],d=s("8055"),l=s.n(d),g=l()("http://localhost:3000"),p=g,f={data:function(){return{user:{name:"",pass:""}}},mounted:function(){this.$refs.username.focus()},created:function(){},methods:{loginUser:function(){var t=this;this.$store.dispatch({type:"userLogin",currUser:this.user}).then(function(e){p.emit("chat join",t.$store.getters.getcurrLoggedinUser[0]),p.emit("user login",t.$store.getters.getcurrLoggedinUser[0]._id),t.$toast.open({message:"Login Successfully!",type:"is-success",duration:2e3}),t.$emit("close")}).catch(function(e){t.$toast.open({message:"Login Failed!",type:"is-danger",duration:2e3}),t.$emit("close")})}}},h=f,m=s("2877"),v=Object(m["a"])(h,c,u,!1,null,null,null),b=v.exports,y={data:function(){return{isActive:!1,user:{name:"",pass:""}}},methods:{toggleNav:function(){this.isActive=!this.isActive},goHome:function(){this.$router.push("/")},goToMyNotfication:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"Notfication"}),this.$router.push("/user/".concat(this.getUser[0]._id))},goToMyProfile:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(this.getUser[0]._id))},cardModal:function(){this.$modal.open({parent:this,component:b,hasModalCard:!0,customClass:"custom-class custom-class-2"})},userLogout:function(){var t=this;this.$store.dispatch({type:"userLogout"}).then(function(){t.$toast.open({message:"You have logout",type:"is-danger",duration:2e3})})}},computed:{getUser:function(){return this.$store.getters.getcurrLoggedinUser},getNotfications:function(){return this.$store.getters.getNotfications}}},_=y,k=(s("8dac"),Object(m["a"])(_,i,a,!1,null,null,null)),C=k.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.user&&t.chatClosed?s("div",{staticClass:"chat"},[s("button",{staticClass:"close-chat",on:{click:t.closeChat}},[t._v("X")]),s("div",{staticClass:"chat-title"},[s("h1",[t._v(t._s(this.user.owner.fullName))]),s("h2",[t._v("Supah")]),s("figure",{staticClass:"avatar"},[s("img",{attrs:{src:this.user.profileImg}})])]),s("div",{staticClass:"messages"},[s("div",{staticClass:"messages-content"},[t._l(t.messagess,function(e,n){return s("ul",{key:n},[s("li",[t._v(t._s(e.from)+" : "+t._s(e.txt))])])}),s("p",[t._v(t._s(t.msgUserTyping))])],2)]),s("form",{on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[s("div",{staticClass:"message-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],staticClass:"message-input",attrs:{type:"text",placeholder:"Type message..."},domProps:{value:t.txt},on:{input:[function(e){e.target.composing||(t.txt=e.target.value)},t.userIsTyping]}}),s("button",{staticClass:"message-submit",attrs:{type:"submit"}},[t._v("Send")])])])]):t._e(),s("div",{staticClass:"bg"})])},j=[],x=new n["default"],w={created:function(){var t=this;x.$on("chatOpen",function(e,s){t.user=e;var n=[e,s];t.members=n,p.emit("test users chat",n)}),p.on("test got msg",function(e){t.messagess.push(e)}),p.on("chat history",function(e){t.messagess=e});var e=!1;p.on("user isTyping",function(s){e&&clearTimeout(e),t.msgUserTyping=s,e=setTimeout(function(){t.msgUserTyping=""},2500)})},data:function(){return{user:null,members:null,txt:"",messagess:[],msgUserTyping:"",chatClosed:!0}},destroyed:function(){p.removeListener("chat newMsg"),p.removeListener("chat history"),p.removeListener("user typing")},methods:{sendMsg:function(){var t=this.$store.getters.getcurrLoggedinUser[0].owner.fullName,e={from:t,txt:this.txt};p.emit("chat msg",{members:this.members,msg:e}),p.emit("chat notification",t,this.user),this.txt=""},userIsTyping:function(){var t=this.$store.getters.getcurrLoggedinUser[0].owner.fullName;console.log(t),p.emit("user typing",{members:this.members,user:t})},closeChat:function(){this.chatClosed=!this.chatClosed}}},$=w,L=(s("7576"),Object(m["a"])($,U,j,!1,null,"685f7c5a",null)),I=L.exports,D={components:{AppHeader:C,chat:I},data:function(){return{user:null,userChatWith:null}},methods:{},created:function(){var t=this;p.on("friend req sent",function(e){console.log("Listen to emit"),t.$toast.open({message:"You have got freind request from ".concat(e),type:"is-success",duration:2e3})}),p.on("chat notification sent",function(e){console.log("Listen to emit"),t.$toast.open({message:"You have got message from ".concat(e),type:"is-success",duration:2e3})}),p.on("you got liked",function(e){t.$toast.open({message:"You have got liked by ".concat(e),type:"is-success"})}),this.$store.dispatch({type:"loggedInUser"})},computed:{isChatOpen:function(){return this.$store.getters.isChatOpen}}},F=D,S=(s("5c0b"),Object(m["a"])(F,r,o,!1,null,null,null)),P=S.exports,O=s("8c4f"),N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t._m(0),s("div",{staticClass:"box cta"},[s("p",{staticClass:"has-text-centered"},[s("UsersFilter",{on:{setFilter:t.setFilter}})],1)]),s("section",{staticClass:"hero parks-section"},[s("div",{staticClass:"hero-body"},[t._m(1),s("park-list"),s("h1",{staticClass:"see-more",on:{click:t.seeMoreParks}},[t._v("\n        See More\n        "),s("b-icon",{staticClass:"icon",attrs:{icon:"chevron-right"}})],1),s("br")],1)]),s("div",{staticClass:"sandbox"},[t.dogs?s("section",{staticClass:"hero dogs-section"},[s("div",{staticClass:"hero-body"},[t._m(2),s("dog-list",{attrs:{dogs:t.dogsToShow,loggedinUser:t.loggedInUser},on:{chatWith:t.userChatWith,delete:t.deleteDog}}),s("h1",{staticClass:"see-more",on:{click:t.seeMore}},[t._v("\n          See More\n          "),s("b-icon",{staticClass:"icon",attrs:{icon:"chevron-right"}})],1),s("br")],1)]):t._e()]),t._m(3)])},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"hero top-section is-bold"},[n("div",{staticClass:"hero-head"}),n("div",{staticClass:"hero-body top-section is-flex"},[n("div",{staticClass:"container"},[n("h1",[t._v("\n          MEET\n          "),n("span",[t._v("HAV")])]),n("h2",[t._v("\n          MEET NEW AND\n          INTRESTING DOGS NEARBY.\n        ")])]),n("img",{staticClass:"home-logo",attrs:{src:s("9d54"),alt:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"parks-title1"},[s("strong",{staticStyle:{"margin-left":"15px"}},[t._v("Nearby Parks")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"parks-title",staticStyle:{"margin-top":"12px"}},[s("strong",[t._v("Nearby Dogs")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("div",{staticClass:"content has-text-centered"},[t._v("\n      MEET"),s("strong",[t._v("HAV")]),t._v(" by Daniel Shokri ,Idan Elbaz and Chen Mordechai\n    ")])])}],M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"mapTo"}},[t.dogs&&t.userLoc?s("GmapMap",{ref:"mapRef",attrs:{center:{lat:t.currPark.geometry.location.lat,lng:t.currPark.geometry.location.lng},zoom:t.zoomIn,"map-type-id":"terrain"}},[s("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWinOpen},on:{closeclick:function(e){t.infoWinOpen=!1}}}),t._l(t.dogsToShowNotFriends,function(e,n){return s("GmapMarker",{key:e._id,attrs:{position:e.position,clickable:!0,draggable:!0,icon:t.usersIcons},on:{click:function(s){t.setCenter(e.position,15,s),t.toggleInfoWindow(e,n)}}})}),t._l(t.dogsToShowFriends,function(e,n){return s("GmapMarker",{key:n,attrs:{position:e.position,clickable:!0,draggable:!0,icon:t.friendsIcon},on:{click:function(s){t.setCenter(e.position,15,s),t.toggleInfoWindow(e,n)}}})}),s("GmapMarker",{attrs:{userLocation:"",position:t.userLoc.position,clickable:!0,draggable:!0,icon:t.myIcon},on:{click:function(e){t.setCenter(t.userLoc.position,15,e),t.toggleInfoWindow(t.userLoc,0)}}}),s("GmapMarker",{attrs:{userLocation:"",position:t.currPark.geometry.location,clickable:!0,draggable:!0},on:{click:function(e){t.setCenter(t.currPark.geometry.location,15,e),t.toggleInfoWindow(t.currPark.geometry,0)}}})],2):t._e()],1)},R=[],E=(s("7f7f"),s("96cf"),s("3b8d")),q=s("bc3a"),A=s.n(q),z="/api/",W=A.a.create({withCredentials:!0});function B(t){return G.apply(this,arguments)}function G(){return G=Object(E["a"])(regeneratorRuntime.mark(function t(e){var s,n,r,o,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,r=i.length>3&&void 0!==i[3]?i[3]:null,t.prev=3,t.next=6,W({url:"".concat(z).concat(e),method:s,data:n,params:r});case 6:return o=t.sent,t.abrupt("return",o.data);case 10:t.prev=10,t.t0=t["catch"](3),401===t.t0.response.status&&ls.push("/");case 13:case"end":return t.stop()}},t,null,[[3,10]])})),G.apply(this,arguments)}var V={get:function(t,e){return B(t,"GET",null,e)},post:function(t,e){return B(t,"POST",e)},put:function(t,e){return B(t,"PUT",e)},delete:function(t,e){return B(t,"DELETE",e)}},Y={query:K,add:rt,remove:ot,getById:nt,update:it,logIn:ct,logOut:dt,signUp:ut,getLoggedinUser:at,getPosition:H,sendFriendReq:X,getFriendReq:st,makeFriendshipOn:Z,rejectFriendshipOn:tt,removeFriendship:et,addLike:Q};function J(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"dog/".concat(t)}function H(){return new Promise(function(t,e){navigator.geolocation.getCurrentPosition(t,e)})}function K(t){return V.get(J(),t)}function X(t){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(J("sendFriendReq"),{dogId:t,user:e})}function Q(t){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(J("addLike"),{dogId:t,user:e})}function Z(t){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(J("makeFriendship"),{dog:t,user:e})}function tt(t){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(J("rejectFriendship"),{dog:t,user:e})}function et(t){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(J("removeFriendship"),{dogId:t,user:e})}function st(t,e,s){var n={dogId:t,dogImg:e,dogName:s};return V.post(J("getFriendReq"),n)}function nt(t){return V.get(J(t))}function rt(t){return V.post(J("add"),t)}function ot(t){return V.delete(J(t))}function it(t){return V.put(J("edit/".concat(t._id)),t)}function at(){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return Promise.resolve(t)}function ct(t){return V.post(J(),t).then(function(t){if(!t)throw new Error("Cant Login");return sessionStorage.setItem("LoggedUser",JSON.stringify(t)),t}).catch(function(t){throw console.log(t,"at front service"),t})}function ut(t){return t.isAdmin=!1,V.post(J("signup"),t).then(function(t){return t}).catch(function(t){throw console.log(t),t})}function dt(){return V.post(J("logout")).then(function(){sessionStorage.clear()}).catch(function(t){throw console.log("Could not logout",t),t})}var lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dogs&&t.currPark?s("section",{staticClass:"userLiList"},[s("v-layout",{attrs:{row:""}},[s("v-flex",{staticStyle:{"padding-right":"40px","padding-left":"40px","min-width":"300px"}},[s("v-card",[s("v-toolbar",{attrs:{color:"teal",dark:""}},[s("v-toolbar-title",{staticClass:"text-xs-center"},[t._v(t._s(t.currPark.name))]),s("v-spacer")],1),s("v-list",{attrs:{subheader:""}},[s("v-subheader",[t._v("Dogs in the park")]),t._l(t.dogsToShow,function(e){return s("v-list-tile",{key:e._id,attrs:{avatar:""},on:{click:function(s){return t.goToUserProfile(e._id)}}},[s("v-list-tile-avatar",[s("img",{attrs:{src:e.profileImg}})]),e.distanceTextFromUser?s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.preference.name+" & "+e.owner.fullName+" ("+e.distanceValueFromUser/1e3+"km from you)")}})],1):s("v-list-tile-content",[s("v-list-tile-title",{domProps:{innerHTML:t._s(e.preference.name+" & "+e.owner.fullName)}})],1)],1)})],2),s("v-divider")],1)],1)],1)],1):t._e()},gt=[],pt={getInfo:ft,getDist:ht};function ft(t){return A.a.get("".concat(mt(),"/getPos?lat=").concat(t.lat,"&lng=").concat(t.lng)).then(function(t){return t.data})}function ht(t){return A.a.get("".concat(mt(),"/getDistance?dist=").concat(t.userLoc,"&userdist=").concat(t.usersLoc)).then(function(t){return t.data})}function mt(){return"/api/google"}var vt={name:"usersList",data:function(){return{userLoc:null,dogs:null,dogsList:[]}},props:["currPark"],computed:{distanceInKm:function(t){return t.distanceValueFromUser/1e3},dogsToShow:function(){for(var t=[],e=0;e<this.dogs.length;e++){var s=function(t){return t*Math.PI/180},n=this.dogs[e].location.lat,r=this.dogs[e].location.lng,o=this.currPark.geometry.location.lat,i=this.currPark.geometry.location.lng,a=6371,c=s(o-n),u=s(i-r);n=s(n),o=s(o);var d=Math.sin(c/2)*Math.sin(c/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(n)*Math.cos(o),l=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),g=a*l;g<=1&&t.push(this.dogs[e])}return t}},methods:{goToUserProfile:function(t){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(t))}},components:{},created:function(){var t=this;this.$store.dispatch({type:"loadDogs"}).then(function(){t.$store.dispatch({type:"loadUserLoc"}).then(function(){t.$store.dispatch({type:"loadSortDogs"}).then(function(){t.dogs=t.$store.getters.dogsToShow})})})}},bt=vt,yt=Object(m["a"])(bt,lt,gt,!1,null,null,null),_t=yt.exports,kt={name:"usersMap",data:function(){return{userLoc:null,currUser:null,dogs:null,langs:["he","en"],times:[1552552892953,1552552891953,1552522892953],zoomIn:16,posIsrael:{lat:32.088007,lng:34.8031678},infoWindowPos:null,infoWinOpen:!1,currentMidx:null,notFriends:[],friends:[],infoOptions:{content:"",pixelOffset:{width:0,height:-35}}}},props:["currPark"],computed:{dogsToShowNotFriends:function(){for(var t=[],e=0;e<this.notFriends.length;e++)t.push({position:{lat:this.notFriends[e].location.lat,lng:this.notFriends[e].location.lng},infoText:"<p>".concat(this.notFriends[e].owner.fullName,"</p>")});return t},dogsToShowFriends:function(){for(var t=[],e=0;e<this.friends.length;e++)t.push({position:{lat:this.friends[e].location.lat,lng:this.friends[e].location.lng},infoText:"<p>".concat(this.friends[e].owner.fullName,"</p>")});return t},userLocation:function(){return this.userLoc},usersIcons:function(){return"https://img.icons8.com/carbon-copy/40/000000/dog.png"},myIcon:function(){return"https://img.icons8.com/ultraviolet/40/000000/dog.png"},friendsIcon:function(){return" https://img.icons8.com/color/40/000000/dog.png"}},methods:{setCenter:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;arguments.length>2&&arguments[2];this.$refs.mapRef.$mapPromise.then(function(n){n.panTo(t),e.zoomIn=s})},toggleInfoWindow:function(t,e){t.position||(t.position=t.location),this.infoWindowPos=t.position,t.infoText||(t.infoText=this.currPark.name),this.infoOptions.content=t.infoText,this.currentMidx==e?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=e)}},components:{},created:function(){var t=this;this.$store.dispatch({type:"loadDogs"}).then(function(){t.$store.dispatch({type:"loggedInUser"}).then(function(){if(t.dogs=t.$store.getters.dogsToShow,t.currUser=t.$store.getters.getLoggedinUser,t.currUser[0].friends.length>0)for(var e=0;e<t.currUser[0].friends.length;e++)for(var s=0;s<t.dogs.length;s++)t.currUser[0].friends[e].userId===t.dogs[s]._id?t.friends.push(t.dogs[s]):t.notFriends.push(t.dogs[s]);else t.notFriends=t.dogs.map(function(t){return t});Y.getPosition().then(function(e){if(t.currUser[0])var s="<p>".concat(t.currUser[0].owner.fullName,"</p>");else s="<p>Guest</p>";t.userLoc={position:{lat:e.coords.latitude,lng:e.coords.longitude},infoText:s}})})})}},Ct=kt,Ut=(s("9042"),Object(m["a"])(Ct,M,R,!1,null,"52e22cd0",null)),jt=Ut.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userLoc&&t.gardens.length>0?s("section",{staticClass:"parksList"},[s("v-layout",{staticStyle:{"justify-content":"space-between",padding:"25px"},attrs:{row:"",wrap:""}},[t._l(t.gardens,function(t){return s("div",{key:t.id,staticClass:"onlyDesk"},[s("parkPrev",{staticStyle:{"margin-bottom":"20px"},attrs:{park:t}})],1)}),s("div",{staticClass:"onlyCell"},[s("parkPrev",{staticStyle:{margin:"0 auto"},attrs:{park:t.parkToShow},on:{nextPark:t.plusDivs}})],1)],2)],1):t._e()},wt=[],$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.park?s("main",{directives:[{name:"touch",rawName:"v-touch:swipe",value:t.swipeHandler,expression:"swipeHandler",arg:"swipe"}]},[s("figure",[s("img",{attrs:{"aspect-ratio":"1.75",src:t.park.img},on:{click:t.goParkDetails}})]),s("br"),s("a",{on:{click:t.goParkDetails}},[s("h3",{staticClass:"title"},[t._v(t._s(t.park.name))])]),s("section",{staticClass:"content"},[s("button",{staticClass:"plus onlyCell",on:{click:function(e){return t.plusDivs(-1)}}},[t._v("❮")]),s("button",{staticClass:"minus onlyCell",on:{click:function(e){return t.plusDivs(1)}}},[t._v("❯")]),s("p",{staticClass:"subtitle"},[t._v("Dogs in park("+t._s(t.distanceFromUsering)+")")]),t.park.distanceValueFromUser?s("p",{staticClass:"subtitle"},[t._v("\n      "+t._s(t.park.rating)+"\n      "),t.numOfStars>=1?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t.numOfStars>=2?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t.numOfStars>=3?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t.numOfStars>=4?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),5===t.numOfStars?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t._v("\n        •   "+t._s(t.park.distanceValueFromUser/1e3)+" km\n    ")],1):s("p",{staticClass:"subtitle"},[t._v("\n      "+t._s(t.numOfStars)+"\n      "),t.numOfStars>=1?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t.numOfStars>=2?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t.numOfStars>=3?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t.numOfStars>=4?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),5===t.numOfStars?s("b-icon",{staticClass:"b-icon",attrs:{icon:"star-outline"}}):t._e(),t._v("  •  1.4 km\n    ")],1),s("br")])]):t._e()},Lt=[],It={props:{park:Object},data:function(){return{user:{},dogs:null,numOfStars:3}},created:function(){this.dogs=this.$store.getters.dogsToShow,this.user=this.$store.getters.getLoggedinUser,this.numOfStars=this.park.rating},methods:{addReview:function(){},goParkDetails:function(){var t=this;this.$store.dispatch({type:"goToPark",park:this.park}).then(function(){t.$router.push("/park-details")})},plusDivs:function(t){this.$emit("nextPark",t)},swipeHandler:function(t){"right"===t?this.plusDivs(1):"left"===t&&this.plusDivs(-1)}},computed:{imgToLoad:function(){return this.park.photos[1]?this.park.img:"http://eaawaj.com/wp-content/uploads/2018/06/4241508-park.jpg"},distanceFromUsering:function(){for(var t=[],e=0;e<this.dogs.length;e++){var s=function(t){return t*Math.PI/180},n=this.dogs[e].location.lat,r=this.dogs[e].location.lng,o=this.park.geometry.location.lat,i=this.park.geometry.location.lng,a=6371,c=s(o-n),u=s(i-r);n=s(n),o=s(o);var d=Math.sin(c/2)*Math.sin(c/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(n)*Math.cos(o),l=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),g=a*l;g<=1&&t.push(this.dogs[e])}return t.length}}},Dt=It,Ft=(s("af8c"),Object(m["a"])(Dt,$t,Lt,!1,null,"466db74e",null)),St=Ft.exports,Pt={name:"parksList",data:function(){return{distance:"",userLoc:null,gardens:[],photos:[],indexRoll:0}},components:{parkPrev:St},created:function(){var t=this;Y.getPosition().then(function(e){t.userLoc={position:{lat:e.coords.latitude,lng:e.coords.longitude}},pt.getInfo(t.userLoc.position).then(function(e){for(var s=0;s<4;s++)t.gardens.push(e[s]),t.photos.push(t.gardens[s].photos[0].photo_reference),t.gardens[s].img="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(t.gardens[s].photos[0].photo_reference,"&key=AIzaSyCrVxVPta_TOsFatlYL7vOx_stAJNlV8ws");var n=JSON.parse(JSON.stringify(t.gardens));t.$store.dispatch({type:"loadParks",gardens:n}).then(function(){t.$store.dispatch({type:"loadUserLoc"}).then(function(){t.$store.dispatch({type:"loadParksLocFromUser"}).then(function(){t.gardens=t.$store.getters.getParks})})})})})},computed:{parkToShow:function(){if(this.gardens.length>0)return this.gardens[this.indexRoll]}},methods:{plusDivs:function(t){this.indexRoll>=0&&this.indexRoll<4&&(1===t&&3===this.indexRoll?(this.indexRoll=0,this.parkToShow):-1===t&&0===this.indexRoll?(this.indexRoll=3,this.parkToShow):(this.indexRoll+=t,this.parkToShow))}}},Ot=Pt,Nt=(s("9af4"),Object(m["a"])(Ot,xt,wt,!1,null,"d53732c0",null)),Tt=Nt.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dogs?s("v-layout",{attrs:{row:"",wrap:""}},[s("div",[s("dog-preview",{staticClass:"onlyCell",attrs:{loggedinUser:t.loggedinUser,dog:t.dogToShow},on:{nextDog:t.plusDivs,delete:t.emitDeleteDog,chatWith:t.userChatWith}})],1),t._l(t.dogs,function(e){return s("v-flex",{key:e._id,staticClass:"onlyDesk",attrs:{xs12:"",sm6:"",mb4:"",lg3:""}},[s("dog-preview",{attrs:{loggedinUser:t.loggedinUser,dog:e},on:{chatWith:t.userChatWith,delete:t.emitDeleteDog}})],1)})],2):t._e()},Rt=[],Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dog?s("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:t.swipeHandler,expression:"swipeHandler",arg:"swipe"}],staticClass:"grid"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card__thumbnail",style:{"background-image":"url("+t.imgToLoad+")",height:"300px"},on:{click:function(e){return t.openProfile(t.dog._id)}}}),s("span",{staticClass:"card__content"},[s("button",{staticClass:"plus onlyCell",on:{click:function(e){return t.plusDivs(-1)}}},[t._v("❮")]),s("button",{staticClass:"minus onlyCell",on:{click:function(e){return t.plusDivs(1)}}},[t._v("❯")]),s("h3",[t._v(t._s(t.dog.owner.fullName)+" and "+t._s(t.dog.preference.name))]),s("span",{staticClass:"ago"},[t._v(t._s(t.dog.preference.name)+" is "+t._s(t.dog.preference.type))]),s("p",[t._v("\n        "+t._s(t.dog.preference.name)+" is a "+t._s(t.dog.preference.gender)+",\n        "+t._s(t.gender)+" likes to:\n        "),t._l(t.dog.preference.hobbies,function(e){return s("span",{key:e._id},[t._v(t._s(e)+",")])}),t._v(" and more...\n      ")],2)]),s("div",{staticClass:"card__footer"},[s("div",{staticClass:"card__footer__meta"},[s("span",{staticClass:"meta",attrs:{tooltip:"Like"}},[s("button",{on:{click:function(e){return t.addLike(t.dog._id)}}},[s("b-icon",{attrs:{icon:"thumb-up"}})],1)]),s("span",{staticClass:"meta more",attrs:{tooltip:"Friendog"}},[s("button",{on:{click:function(e){return t.addFriend(t.dog._id)}}},[s("b-icon",{attrs:{icon:"account-plus"}})],1)]),s("span",{staticClass:"meta more",attrs:{tooltip:"chat"}},[s("button",{on:{click:function(e){return e.preventDefault(),t.openChat(t.dog)}}},[s("b-icon",{attrs:{icon:"chat-processing"}})],1)]),s("span",{staticClass:"more stats",attrs:{tooltip:"Friends"}},[t._v("\n          "+t._s(t.dog.friends.length)+"\n          "),s("i",{staticClass:"fa fa-share"})]),s("span",{staticClass:"more stats",attrs:{tooltip:"Likes"}},[t._v("\n          "+t._s(t.dog.gotLikes.length)+"\n          "),s("i",{staticClass:"fa fa-eye"})])])])])]):t._e()},qt=[],At=(s("7514"),{props:["dog","loggedinUser"],data:function(){return{}},methods:{openChat:function(t){var e=this;this.$store.dispatch({type:"isChatOpen",dog:t}).then(function(){var s=e.$store.getters.getcurrLoggedinUser[0];e.$store.getters.isChatOpen&&x.$emit("chatOpen",t,s),p.emit("chat join",e.$store.getters.getcurrLoggedinUser[0])})},plusDivs:function(t){this.$emit("nextDog",t)},swipeHandler:function(t){"right"===t?this.plusDivs(1):"left"===t&&this.plusDivs(-1)},addFriend:function(t){var e=this;if(this.loggedinUser){var s=this.loggedinUser.friends,n=this.loggedinUser.sentFriendsReq;s.find(function(t){return t.userId===e.dog._id})?this.$toast.open({message:"You are already friends",type:"is-danger",duration:2e3}):n.find(function(t){return t===e.dog._id})?this.$toast.open({message:"You have already sent friend request",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendReq",dogId:t}).then(function(){p.emit("friend req",e.dog,e.$store.getters.getcurrLoggedinUser[0]),e.$toast.open({message:"friend request successfully sent!",type:"is-success",duration:2e3})})}else this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},addLike:function(t){var e=this;if(console.log(this.loggedinUser),this.loggedinUser){var s=this.loggedinUser.sentLikes;s.find(function(t){return t===e.dog._id})?this.$toast.open({message:"You are already Liked",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendLike",dogId:t}).then(function(){e.$toast.open({message:"Like successfully!",type:"is-success",duration:2e3}),p.emit("friend like",e.dog,e.$store.getters.getcurrLoggedinUser[0])})}else this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},goToEdit:function(t){this.$router.push("/user/edit/".concat(t))},emitDeleteDog:function(t){this.$emit("delete",t)},openProfile:function(t){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(t))}},computed:{gender:function(){return"female"===this.dog.preference.gender?"she":"he"},getLocation:function(){this.dog.location},imgToLoad:function(){return this.dog.profileImg?this.dog.profileImg:"https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"}},components:{}}),zt=At,Wt=(s("5bb1"),Object(m["a"])(zt,Et,qt,!1,null,"59185470",null)),Bt=Wt.exports,Gt={props:["dogs","loggedinUser"],data:function(){return{indexRoll:0}},computed:{dogToShow:function(){return this.dogs[this.indexRoll]}},methods:{emitDeleteDog:function(t){this.$emit("delete",t)},plusDivs:function(t){this.indexRoll>=0&&this.indexRoll<4&&(1===t&&3===this.indexRoll?(this.indexRoll=0,this.dogToShow):-1===t&&0===this.indexRoll?(this.indexRoll=3,this.dogToShow):(this.indexRoll+=t,this.dogToShow))},userChatWith:function(t){this.$emit("chatWith",t)}},components:{DogPreview:Bt}},Vt=Gt,Yt=(s("b162"),Object(m["a"])(Vt,Mt,Rt,!1,null,"e79fdc7e",null)),Jt=Yt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.txt,expression:"filterBy.txt"}],staticClass:"users-search input",attrs:{type:"text",placeholder:"Who are you looking for?"},domProps:{value:t.filterBy.txt},on:{change:t.searchUser,input:function(e){e.target.composing||t.$set(t.filterBy,"txt",e.target.value)}}}),s("a",{staticClass:"button is-dark search-btn",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchUser(e)}}},[s("b-icon",{attrs:{icon:"magnify"}})],1)])},Kt=[],Xt={data:function(){return{filterBy:{txt:""}}},methods:{searchUser:function(){this.$emit("setFilter",this.filterBy),this.$router.push("/user")}}},Qt=Xt,Zt=(s("c432"),Object(m["a"])(Qt,Ht,Kt,!1,null,"8c6b52da",null)),te=Zt.exports,ee={name:"home",created:function(){var t=this;this.$store.dispatch({type:"loadCompInProfile",comp:"gallery"}),this.$store.dispatch({type:"loggedInUser"}).then(function(){t.loggedInUser=t.$store.getters.getLoggedinUser}),this.$store.dispatch({type:"loadDogs"}).then(function(){t.$store.dispatch({type:"loadUserLoc"}).then(function(){t.$store.dispatch({type:"loadSortDogs"}).then(function(){t.dogs=t.$store.getters.dogsToShow})})})},data:function(){return{dogs:null,numOfParks:4,loggedInUser:null}},computed:{loggedinUser:function(){if(this.$store.getters.getcurrLoggedinUser)return this.$store.getters.getcurrLoggedinUser[0]},dogsToShow:function(){var t=this;if(this.loggedinUser){var e=this.dogs.filter(function(e){return e._id!==t.loggedinUser._id});s=[e[0],e[1],e[2],e[3]];return s}var s=[this.dogs[0],this.dogs[1],this.dogs[2],this.dogs[3]];return s}},methods:{seeMore:function(){this.$router.push("/user")},setFilter:function(t){this.$store.dispatch({type:"loadDogs",filterBy:t})},userChatWith:function(t){this.$emit("chatWith",t)},deleteDog:function(t){this.$store.dispatch({type:"deleteDog",dogId:t})},seeMoreParks:function(){this.$router.push("/parks")}},components:{UserListMap:jt,ParkList:Tt,UserLiList:_t,UsersFilter:te,DogList:Jt}},se=ee,ne=(s("af57"),Object(m["a"])(se,N,T,!1,null,"401463d1",null)),re=ne.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-wrapper bg-red p-t-180 p-b-100 font-robo"},[s("div",{staticClass:"wrapper wrapper--w960"},[s("div",{staticClass:"card card-2"},[s("div",{staticClass:"card-heading"}),s("div",{staticClass:"card-body"},[s("h2",{staticClass:"title"},[t._v("Registration")]),s("v-form",{attrs:{id:"signup-form"},on:{submit:function(e){return e.preventDefault(),t.saveUser(e)}}},[s("v-text-field",{attrs:{rules:t.nameRules,label:"Username",required:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),s("v-text-field",{staticClass:"input-group--focused",attrs:{name:"input-10-2",label:"Password",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),s("v-btn",{attrs:{color:"dark",type:"submit",form:"signup-form"}},[t._v("Register")])],1)],1)])])])},ie=[],ae={data:function(){return{user:{username:"",password:""},valid:!1,nameRules:[function(t){return!!t||"Name is required"},function(t){return t.length<=10||"Name must be less than 10 characters"}],email:""}},methods:{saveUser:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.user,t.prev=1,t.next=4,this.$store.dispatch({type:"userSignup",user:e});case 4:return s=t.sent,this.$toast.open({message:"Register Successfully!",type:"is-success",duration:2e3}),this.$router.push("/"),t.abrupt("return",s);case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}()}},ce=ae,ue=(s("c654"),Object(m["a"])(ce,oe,ie,!1,null,"eabc28f6",null)),de=ue.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dogs?s("section",[s("UsersFilter",{on:{setFilter:t.setFilter}}),s("dog-list",{attrs:{loggedinUser:t.loggedinUser,dogs:t.dogs},on:{delete:t.deleteDog}})],1):t._e()},ge=[],pe={data:function(){return{}},created:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"gallery"}),this.$store.dispatch({type:"loggedInUser"})},methods:{setFilter:function(t){this.$store.dispatch({type:"loadDogs",filterBy:t})},deleteDog:function(t){this.$store.dispatch({type:"deleteDog",dogId:t})}},computed:{loggedinUser:function(){if(this.$store.getters.getcurrLoggedinUser)return this.$store.getters.getcurrLoggedinUser[0]},dogs:function(){var t=this,e=this.$store.getters.dogsToShow;if(this.loggedinUser){var s=e.filter(function(e){return e._id!==t.loggedinUser._id});return s}return e}},components:{dogList:Jt,UsersFilter:te}},fe=pe,he=Object(m["a"])(fe,le,ge,!1,null,"7b2cd56f",null),me=he.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.dog&&t.comp?s("div",{staticClass:"container"},[s("header",{style:{"background-image":"url("+t.backImgToLoad+")","background-size":"cover","background-position":"center"}}),s("main",[s("div",{staticClass:"row"},[s("div",{staticClass:"left col-lg-4"},[s("div",{staticClass:"photo-left"},[s("img",{staticClass:"photo",attrs:{src:t.imgToLoad}}),s("div",{staticClass:"active"})]),s("h4",{staticClass:"name"},[t._v(t._s(t.dog.owner.fullName)+" and "+t._s(t.dog.preference.name))]),t.notMyProfile||!t.dog?s("div",{staticClass:"btn-wrapper"},[s("span",{staticClass:"add-friend",on:{click:function(e){return t.addFriend(t.dog._id)}}},[t._v("Add Friend")]),s("span",{staticClass:"like-friend",on:{click:function(e){return t.addLike(t.dog._id)}}},[t._v("Like ("+t._s(t.dog.gotLikes.length)+")")])]):t._e(),t.notMyProfile&&t.dog?t._e():s("div",{staticClass:"btn-wrapper"},[s("span",{staticClass:"like-friend"},[t._v(t._s(t.dog.gotLikes.length)+" Likes")])]),s("p",{staticClass:"desc"},[t._v("\n          Hi ! My name is "+t._s(t.dog.owner.fullName)+"\n          I am "+t._s(t.dog.owner.age)+" year old,\n          "+t._s(t.dog.preference.name)+" is my dog ,\n          "+t._s(t.gender)+" is "+t._s(t.dog.preference.type)+" and\n          "+t._s(t.gender)+" liks to\n          "),t._l(t.dog.preference.hobbies,function(e){return s("span",{key:e._id},[t._v(t._s(e)+",")])}),t._v("\n          and so.\n          We are living in "+t._s(t.dog.address)+"\n        ")],2),s("div",{staticClass:"social"},[s("i",[s("b-icon",{attrs:{icon:"facebook-box"}})],1),s("i",[s("b-icon",{attrs:{icon:"twitter-box"}})],1),s("i",[s("b-icon",{attrs:{icon:"pinterest-box"}})],1),s("i",[s("b-icon",{attrs:{icon:"tumblr-box"}})],1)])]),s("div",{staticClass:"right col-lg-8"},[s("a",{staticClass:"navbar-burger burger",class:{"is-active":t.isActive},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:t.toggleNav}},[s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}})]),s("div",{staticClass:"navbar-menu",class:{"is-active":t.isActive},attrs:{id:"navbarBasicExample"}},[s("ul",{staticClass:"nav"},[s("li",{on:{click:function(e){return t.openCopm("Gallery")}}},[s("b-icon",{attrs:{icon:"image"}}),t._v("Gallery\n            ")],1),s("li",{on:{click:function(e){return t.openCopm("Friends")}}},[s("b-icon",{attrs:{icon:"account-group"}}),t._v("Friends\n            ")],1),t.notMyProfile&&t.dog?t._e():s("li",{on:{click:function(e){return t.openCopm("Messages")}}},[s("b-icon",{attrs:{icon:"message-bulleted"}}),t._v("Messages\n            ")],1),t.notMyProfile&&t.dog?t._e():s("li",{on:{click:function(e){return t.openCopm("Notfication")}}},[s("b-icon",{attrs:{icon:"bell-ring"}}),t._v("Notfication\n            ")],1)])]),s("div",{staticClass:"row comp"},["Gallery"===this.comp?s("div",{staticStyle:{width:"100%"}},[s("user-gallery",{attrs:{user:t.dog}})],1):t._e(),"Friends"===this.comp?s("div",{staticStyle:{width:"100%"}},[s("user-friends",{attrs:{user:t.dog},on:{removeUser:t.removeUser,goTO:t.onGoTo}})],1):t._e(),"Messages"===this.comp?s("div",{staticStyle:{width:"100%"}},[s("user-messages",{attrs:{user:t.dog}})],1):t._e(),"Notfication"===this.comp?s("div",{staticStyle:{width:"100%"}},[s("user-notfication",{attrs:{user:t.dog},on:{rejectReq:t.rejectFriendReq,makeFriends:t.makeFriendship}})],1):t._e()])])])])]):t._e()},be=[],ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gallery-container"},t._l(t.user.gallery,function(t){return s("div",{key:t._id,staticClass:"image"},[s("img",{attrs:{src:t,alt:""}})])}),0)},_e=[],ke={props:["user"],data:function(){return{}},methods:{}},Ce=ke,Ue=(s("b16a"),Object(m["a"])(Ce,ye,_e,!1,null,"2cf20a53",null)),je=Ue.exports,xe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("div",{staticClass:"friends-container"},t._l(t.user.friends,function(e){return s("div",{key:e.userId,staticClass:"card"},[s("img",{attrs:{src:e.userImg,alt:"Avatar"},on:{click:function(s){return t.goToUser(e.userId)}}}),s("div",{staticClass:"container"},[s("h4",[s("b",{staticClass:"dogName",on:{click:function(s){return t.goToUser(e.userId)}}},[t._v(t._s(e.userName))])]),s("br"),t.myProfile?s("span",{staticClass:"meta more chat",attrs:{tooltip:"chat"}},[s("button",{on:{click:function(s){return t.openChat(e.userId)}}},[s("b-icon",{attrs:{icon:"chat-processing"}})],1)]):t._e(),t.myProfile?s("span",{staticClass:"meta more remove",attrs:{tooltip:"remove"}},[s("button",{on:{click:function(s){return t.removeUser(e.userId)}}},[s("b-icon",{attrs:{icon:"account-remove"}})],1)]):t._e()])])}),0):t._e()},we=[],$e={data:function(){return{show:!1}},props:["user"],methods:{openChat:function(){this.$store.dispatch({type:"isChatOpen"}),console.log("chat is open")},goToUser:function(t){this.$emit("goTO",t)},removeUser:function(t){this.$emit("removeUser",t)}},computed:{myProfile:function(){return!!this.loggedinUser&&this.loggedinUser._id===this.user._id},loggedinUser:function(){if(this.$store.getters.getcurrLoggedinUser)return this.$store.getters.getcurrLoggedinUser[0]}}},Le=$e,Ie=(s("d546"),Object(m["a"])(Le,xe,we,!1,null,"7618e7d3",null)),De=Ie.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[t._v(" messages")])},Se=[],Pe={data:function(){return{}},methods:{}},Oe=Pe,Ne=Object(m["a"])(Oe,Fe,Se,!1,null,null,null),Te=Ne.exports,Me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("section",{staticClass:"userLiList"},[s("v-layout",{attrs:{row:""}},[s("v-flex",[s("v-card",[t.user.gotFriendsReq.length?s("section",[s("v-toolbar",{attrs:{dense:"",expand:"",dark:""}},[s("v-toolbar-title",{staticClass:"text-xs-center"},[t._v("Notfications")]),s("v-spacer")],1)],1):s("section",[s("v-toolbar",{attrs:{dense:"",expand:"",dark:""}},[s("v-toolbar-title",{staticClass:"text-xs-center"},[t._v("Nothing Here.")]),s("v-spacer")],1)],1),s("v-list",{attrs:{subheader:""}},t._l(t.user.gotFriendsReq,function(e){return s("v-list-tile",{key:e.userName,attrs:{avatar:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:e.userImg}})]),t._v("\n            "+t._s(e.userName)+" Has sent you friend request\n            "),s("v-list-tile-content"),s("v-list-tile-action",[s("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(s){return t.confirmFriendShip(e)}}},[t._v("Confirm")]),s("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(s){return t.rejectFriendReq(e)}}},[t._v("Reject")])],1)],1)}),1),s("v-divider")],1)],1)],1)],1):s("section",{staticClass:"no-notification"},[t._v("Nothing here.")])},Re=[],Ee={props:["user"],data:function(){return{currUser:null}},methods:{confirmFriendShip:function(t){this.$emit("makeFriends",t)},rejectFriendReq:function(t){this.$emit("rejectReq",t)}},computed:{checkIfNotfications:function(){return this.user.gotFriendsReq?"Notfications":"Nothing Here."}}},qe=Ee,Ae=(s("5711"),Object(m["a"])(qe,Me,Re,!1,null,"6a6f2a02",null)),ze=Ae.exports,We={name:"profile",data:function(){return{isActive:!1,comp:""}},mounted:function(){},created:function(){this.comp=this.$store.getters.compToShoe;var t=this.$route.params.id;this.$store.dispatch({type:"loadDogById",dogId:t}),this.$store.dispatch({type:"loggedInUser"})},methods:{toggleNav:function(){this.isActive=!this.isActive},addLike:function(t){var e=this;if(this.loggedinUser){var s=this.loggedinUser.sentLikes;s.find(function(t){return t===e.dog._id})?this.$toast.open({message:"You are already Liked",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendLike",dogId:t}).then(function(){e.$toast.open({message:"Like successfully!",type:"is-success",duration:2e3})})}else this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},addFriend:function(t){var e=this;if(this.loggedinUser){var s=this.loggedinUser.friends,n=this.loggedinUser.sentFriendsReq;s.find(function(t){return t.userId===e.dog._id})?this.$toast.open({message:"You are alredy friend",type:"is-danger",duration:2e3}):n.find(function(t){return t===e.dog._id})?this.$toast.open({message:"You have already sent friend request",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendReq",dogId:t}).then(function(){e.$toast.open({message:"friend request successfully sent!",type:"is-success",duration:2e3})})}else this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},openCopm:function(t){this.comp=t},onGoTo:function(t){this.$store.dispatch({type:"loadDogById",dogId:t}),this.$router.push("/user/".concat(t))},makeFriendship:function(t){this.$store.dispatch({type:"makeFriendShip",dog:t})},rejectFriendReq:function(t){this.$store.dispatch({type:"rejectFriendShip",dog:t})},removeUser:function(t){console.log(t),this.$store.dispatch({type:"removeFriend",dogId:t}),this.$toast.open({message:"Remove friend successfully",type:"is-success",duration:2e3})}},computed:{notMyProfile:function(){return!this.loggedinUser||this.loggedinUser._id!==this.dog._id},loggedinUser:function(){if(this.$store.getters.getcurrLoggedinUser)return this.$store.getters.getcurrLoggedinUser[0]},dog:function(){return this.$store.getters.getDog},gender:function(){return"female"===this.dog.preference.gender?"she":"he"},who:function(){return this.dog.owner.fullName},imgToLoad:function(){return this.dog.profileImg?this.dog.profileImg:"https://www.sunnyskyz.com/uploads/2016/12/nlf37-dog.jpg"},backImgToLoad:function(){return this.dog.profileImg?this.dog.backImg:"https://www.sunnyskyz.com/uploads/2016/12/nlf37-dog.jpg"}},components:{UserGallery:je,UserFriends:De,UserMessages:Te,UserNotfication:ze}},Be=We,Ge=(s("0d98"),Object(m["a"])(Be,ve,be,!1,null,"39ca5cdb",null)),Ve=Ge.exports,Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"parkDetails"},[t.park?s("user-list-map",{staticClass:"map",attrs:{currPark:t.park}}):t._e(),t.park?s("user-li-list",{staticClass:"list",attrs:{currPark:t.park}}):t._e()],1)},Je=[],He={name:"parkDetails",components:{UserListMap:jt,userLiList:_t},created:function(){this.park=this.$store.getters.getCurrPark},data:function(){return{park:null}}},Ke=He,Xe=(s("8398"),Object(m["a"])(Ke,Ye,Je,!1,null,"17d9439c",null)),Qe=Xe.exports,Ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.copyDog?s("section",{staticClass:"edit-user"},[s("v-form",{on:{submit:function(e){return e.preventDefault(),t.updateDog(e)}}},[s("v-text-field",{attrs:{name:"name",label:"Full name",type:"text"},model:{value:t.copyDog.owner.fullName,callback:function(e){t.$set(t.copyDog.owner,"fullName",e)},expression:"copyDog.owner.fullName"}}),s("v-text-field",{attrs:{name:"name",label:"Dog Name",type:"text"},model:{value:t.copyDog.preference.name,callback:function(e){t.$set(t.copyDog.preference,"name",e)},expression:"copyDog.preference.name"}}),s("v-text-field",{attrs:{name:"name",label:"Dog Type",type:"text"},model:{value:t.copyDog.preference.type,callback:function(e){t.$set(t.copyDog.preference,"type",e)},expression:"copyDog.preference.type"}}),s("v-text-field",{attrs:{name:"name",label:"Address",type:"text"},model:{value:t.copyDog.address,callback:function(e){t.$set(t.copyDog,"address",e)},expression:"copyDog.address"}}),s("v-text-field",{attrs:{name:"name",label:"Profile Img",type:"text"},model:{value:t.copyDog.profileImg,callback:function(e){t.$set(t.copyDog,"profileImg",e)},expression:"copyDog.profileImg"}}),s("div",{staticClass:"field"},[s("b-checkbox",{model:{value:t.copyDog.isAdmin,callback:function(e){t.$set(t.copyDog,"isAdmin",e)},expression:"copyDog.isAdmin"}},[t._v("Is Admin?")])],1),s("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){return t.updateDog(e)}}},[t._v("save")])],1)],1):t._e()},ts=[],es={data:function(){return{copyDog:null}},created:function(){var t=this;this.$store.dispatch({type:"loadDogById",dogId:this.$route.params.id}).then(function(){t.copyDog=JSON.parse(JSON.stringify(t.$store.getters.getDog))})},methods:{updateDog:function(t){var e=this;this.$store.dispatch({type:"updateDog",dog:this.copyDog}).then(function(){e.$router.push("/user")})}}},ss=es,ns=(s("5122"),Object(m["a"])(ss,Ze,ts,!1,null,null,null)),rs=ns.exports,os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.userLoc?s("section",{staticClass:"parksFeed",staticStyle:{}},[s("v-layout",{attrs:{row:"",wrap:""}},t._l(t.gardens,function(t){return s("v-flex",{key:t.id,attrs:{xs12:"",sm6:"",mb4:"",lg3:""}},[s("parkPrev",{attrs:{park:t}})],1)}),1)],1):t._e()},is=[],as={name:"parksFeed",data:function(){return{distance:"",userLoc:null,gardens:[],photos:[]}},components:{parkPrev:St},created:function(){var t=this;Y.getPosition().then(function(e){t.userLoc={position:{lat:e.coords.latitude,lng:e.coords.longitude}},pt.getInfo(t.userLoc.position).then(function(e){for(var s=0;s<e.length;s++)t.gardens.push(e[s]),t.gardens[s].photos.length>0?t.photos.push(t.gardens[s].photos[0].photo_reference):t.photos.push("https://farm66.static.flickr.com/65535/47022341624_c26416f670_b.jpg"),t.gardens[s].photos[0].photo_reference&&(t.gardens[s].img="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(t.gardens[s].photos[0].photo_reference,"&key=AIzaSyCrVxVPta_TOsFatlYL7vOx_stAJNlV8ws"));var n=JSON.parse(JSON.stringify(t.gardens));t.$store.dispatch({type:"loadParks",gardens:n}).then(function(){t.$store.dispatch({type:"loadUserLoc"}).then(function(){t.$store.dispatch({type:"loadParksLocFromUser"}).then(function(){t.gardens=t.$store.getters.getParks})})})})})},computed:{}},cs=as,us=Object(m["a"])(cs,os,is,!1,null,null,null),ds=us.exports;n["default"].use(O["a"]);var ls=new O["a"]({routes:[{path:"/",component:re},{path:"/signup",component:de},{path:"/user",component:me},{path:"/user/:id",component:Ve},{path:"/user/edit/:id",component:rs},{path:"/user/edit",component:rs},{path:"/park-details",component:Qe},{path:"/park",component:Tt},{path:"/parks",component:ds}]}),gs=(s("ac6a"),s("20d6"),s("55dd"),s("2f62"));n["default"].use(gs["a"]);var ps=new gs["a"].Store({strict:!0,state:{loggedinUser:null,filterBy:null,dogs:[],dog:null,currUser:"",sortByDistanceDogs:null,userLoc:null,currPark:null,parks:null,compInProfile:"Gallery",isChatOpen:!1,currUserChatWith:null},mutations:{setIsOpenChat:function(t,e){var s=e.dog;t.isChatOpen=!t.isChatOpen,t.currUserChatWith=s},updateCompInProfile:function(t,e){var s=e.comp;t.compInProfile=s},setFilter:function(t,e){t.filterBy=JSON.parse(JSON.stringify(e))},setLoc:function(t,e){var s=e.pos;t.userLoc={position:{lat:s.coords.latitude,lng:s.coords.longitude}}},setLoginUser:function(t,e){var s=e.currUserLoggedIn;t.currUser=s},setLoggedUser:function(t,e){var s=e.userLoggedNow;t.currUser=s},setLoggedOutUser:function(t){t.currUser=""},setSortDogs:function(t,e){for(var s=e.res,n=0;n<t.dogs.length;n++)t.dogs[n].distanceTextFromUser=s.elements[n].distance.text,t.dogs[n].distanceValueFromUser=s.elements[n].distance.value;t.currPark||t.dogs.sort(function(t,e){return t.distanceValueFromUser-e.distanceValueFromUser})},setSortParksNearUser:function(t,e){for(var s=e.res,n=0;n<t.parks.length;n++)t.parks[n].distanceTextFromUser=s.elements[n].distance.text,t.parks[n].distanceValueFromUser=s.elements[n].distance.value},setSortDogsByMap:function(t,e){for(var s=e.res,n=0;n<t.dogs.length;n++)t.dogs[n].distanceTextFromMap=s.elements[n].distance.text,t.dogs[n].distanceValueFromMap=s.elements[n].distance.value;t.dogs.sort(function(t,e){return t.distanceValueFromUser-e.distanceValueFromUser})},setDogs:function(t,e){var s=e.dogs;t.dogs=s},setDog:function(t,e){var s=e.dog;t.dog=s},deleteDog:function(t,e){var s=e.dogId,n=t.dogs.findIndex(function(t){return t._id===s});t.dogs.splice(n,1)},addDog:function(t,e){var s=e.dog;t.dogs.unshift(s)},updateDog:function(t,e){var s=e.dog,n=t.dogs.findIndex(function(t){return t._id===s._id});t.dogs.splice(n,1,s)},updateDogLikes:function(t,e){var s,n=e.updatedDogId,r=t.dogs.findIndex(function(t){return t._id===n});t.dogs.forEach(function(t){t._id===n&&(s=t)}),s.gotLikes.push({userId:t.currUser[0]._id,userImg:t.currUser[0].profileImg,userName:t.currUser[0].owner.fullName});var o=t.dogs.findIndex(function(e){return e._id===t.currUser[0]._id});t.currUser[0].sentLikes.push(n),t.dogs.splice(o,1,t.currUser[0]),t.dogs.splice(r,1,s)},updateDogFriendReq:function(t,e){var s,n=e.updatedDogId,r=t.dogs.findIndex(function(t){return t._id===n});t.dogs.forEach(function(t){t._id===n&&(s=t)}),s.gotFriendsReq.push({userId:t.currUser[0]._id,userImg:t.currUser[0].profileImg,userName:t.currUser[0].owner.fullName});var o=t.dogs.findIndex(function(e){return e._id===t.currUser[0]._id});t.currUser[0].sentFriendsReq.push(n),t.dogs.splice(o,1,t.currUser[0]),t.dogs.splice(r,1,s)},updateDogFriendShip:function(t,e){var s,n=e.updatedDog,r=t.dogs.findIndex(function(t){return t._id===n.userId});t.dogs.forEach(function(t){t._id===n.userId&&(s=t)}),s.friends.push({userId:t.currUser[0]._id,userImg:t.currUser[0].profileImg,userName:t.currUser[0].owner.fullName}),t.currUser[0].friends.push(n),s.sentFriendsReq.forEach(function(e,n){e===t.currUser[0]._id&&s.sentFriendsReq.splice(n,1)}),t.currUser[0].gotFriendsReq.forEach(function(e,n){e.userId===s._id&&t.currUser[0].gotFriendsReq.splice(n,1)});var o=t.dogs.findIndex(function(e){return e._id===t.currUser[0]._id});t.dogs.splice(o,1,t.currUser[0]),t.dogs.splice(r,1,s),t.dog=t.currUser[0]},rejectDogFriendShip:function(t,e){var s,n=e.updatedDog,r=t.dogs.findIndex(function(t){return t._id===n.userId});t.dogs.forEach(function(t){t._id===n.userId&&(s=t)}),s.sentFriendsReq.forEach(function(e,n){e===t.currUser[0]._id&&s.sentFriendsReq.splice(n,1)}),t.currUser[0].gotFriendsReq.forEach(function(e,n){e.userId===s._id&&t.currUser[0].gotFriendsReq.splice(n,1)});var o=t.dogs.findIndex(function(e){return e._id===t.currUser[0]._id});t.dogs.splice(o,1,t.currUser[0]),t.dogs.splice(r,1,s),t.dog=t.currUser[0]},removeDogFriendShip:function(t,e){var s,n=e.updatedDog,r=t.dogs.findIndex(function(t){return t._id===n});t.dogs.forEach(function(t){t._id===n&&(s=t)}),s.friends.forEach(function(e,n){e.userId===t.currUser[0]._id&&s.friends.splice(n,1)}),t.currUser[0].friends.forEach(function(e,n){e.userId===s._id&&t.currUser[0].friends.splice(n,1)});var o=t.dogs.findIndex(function(e){return e._id===t.currUser[0]._id});t.dogs.splice(o,1,t.currUser[0]),t.dogs.splice(r,1,s),t.dog=t.currUser[0]},setCurrPark:function(t,e){var s=e.park;t.currPark=s},setParks:function(t,e){var s=e.gardens;t.parks=s}},getters:{compToShoe:function(t){return t.compInProfile},userYouChatWith:function(t){return t.currUserChatWith},dogsToShow:function(t){return t.dogs},getLoggedinUser:function(t){return t.currUser},getcurrLoggedinUser:function(t){return t.currUser},getDog:function(t){return t.dog},getCurrPark:function(t){return t.currPark},getNotfications:function(t){return t.currUser[0].gotFriendsReq},gotLikes:function(t){return t.currUser[0].gotLikes},getParks:function(t){return t.parks},isChatOpen:function(t){return t.isChatOpen}},actions:{isChatOpen:function(t,e){var s=e.dog;t.commit({type:"setIsOpenChat",dog:s})},loadSortDogs:function(t){for(var e=[],s=0;s<t.state.dogs.length;s++)e.push(t.state.dogs[s].location.lat+","+t.state.dogs[s].location.lng);e=e.join("|"),pt.getDist({userLoc:t.state.userLoc.position.lat+","+t.state.userLoc.position.lng,usersLoc:e}).then(function(e){return t.commit({type:"setSortDogs",res:e}),e}),t.state.currPark&&pt.getDist({userLoc:t.state.currPark.geometry.location.lat+","+t.state.currPark.geometry.location.lng,usersLoc:e}).then(function(e){return t.commit({type:"setSortDogsByMap",res:e}),e})},loadCompInProfile:function(t,e){var s=e.comp;return t.commit({type:"updateCompInProfile",comp:s}),s},loadParks:function(t,e){var s=e.gardens;t.commit({type:"setParks",gardens:s})},loadParksLocFromUser:function(t){for(var e=[],s=0;s<t.state.parks.length;s++)e.push(t.state.parks[s].geometry.location.lat+","+t.state.parks[s].geometry.location.lng);e=e.join("|"),pt.getDist({userLoc:t.state.userLoc.position.lat+","+t.state.userLoc.position.lng,usersLoc:e}).then(function(e){return t.commit({type:"setSortParksNearUser",res:e}),e})},updateFriendReq:function(t,e){var s=e.dogId;return Y.sendFriendReq(s).then(function(e){return t.commit({type:"updateDogFriendReq",updatedDogId:e}),e})},updateFriendLike:function(t,e){var s=e.dogId;return Y.addLike(s).then(function(e){return t.commit({type:"updateDogLikes",updatedDogId:e}),e})},makeFriendShip:function(t,e){var s=e.dog;return Y.makeFriendshipOn(s).then(function(e){return t.commit({type:"updateDogFriendShip",updatedDog:e}),e})},rejectFriendShip:function(t,e){var s=e.dog;return Y.rejectFriendshipOn(s).then(function(e){return t.commit({type:"rejectDogFriendShip",updatedDog:e}),e})},removeFriend:function(t,e){var s=e.dogId;return Y.removeFriendship(s).then(function(e){return t.commit({type:"removeDogFriendShip",updatedDog:e}),e})},loadDogs:function(t,e){var s=e.filterBy;return Y.query(s).then(function(e){return t.commit({type:"setDogs",dogs:e}),e})},loadUserLoc:function(t){return Y.getPosition().then(function(e){return t.commit({type:"setLoc",pos:e}),e})},loadDogById:function(t,e){var s=e.dogId;return Y.getById(s).then(function(e){return t.commit({type:"setDog",dog:e}),e})},deleteDog:function(t,e){Y.remove(e.dogId).then(function(){t.commit({type:"deleteDog",dogId:e.dogId})})},addDog:function(t,e){var s=e.dog;return Y.add(s).then(function(e){return t.commit({type:"addDog",dog:e}),e})},updateDog:function(t,e){var s=e.dog;return Y.update(s).then(function(e){return t.commit({type:"updateDog",dog:e}),e})},userLogin:function(t,e){var s=e.currUser;return Y.logIn(s).then(function(e){t.commit({type:"setLoginUser",currUserLoggedIn:e})}).catch(function(t){return console.log(t,"This err store"),Promise.reject("cant find user")})},userSignup:function(t,e){var s=e.user;return Y.signUp(s).then(function(t){console.log("This is Great signup!",t)})},loggedInUser:function(t){return Y.getLoggedinUser().then(function(e){t.commit({type:"setLoggedUser",userLoggedNow:e})})},userLogout:function(t){Y.logOut().then(function(){t.commit({type:"setLoggedOutUser"})})},goToPark:function(t,e){var s=e.park;t.commit({type:"setCurrPark",park:s})}}}),fs=s("c1df"),hs=s.n(fs);n["default"].filter("formatNum",function(t){return t.toLocaleString()}),n["default"].filter("timeAgo",function(t){return hs()(t).format("LLL")});var ms=s("9483");Object(ms["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var vs=s("755e"),bs=s("8a03"),ys=s.n(bs),_s=(s("5abe"),s("ce5b")),ks=s.n(_s),Cs=(s("bf40"),s("5363"),s("0086")),Us=s.n(Cs);n["default"].use(ys.a),n["default"].use(ks.a),n["default"].use(Us.a),n["default"].config.productionTip=!1,n["default"].use(vs,{load:{key:"AIzaSyCrVxVPta_TOsFatlYL7vOx_stAJNlV8ws",libraries:"places"}}),new n["default"]({router:ls,store:ps,render:function(t){return t(P)}}).$mount("#app")},5711:function(t,e,s){"use strict";var n=s("61e8"),r=s.n(n);r.a},"5bb1":function(t,e,s){"use strict";var n=s("0a7a"),r=s.n(n);r.a},"5c0b":function(t,e,s){"use strict";var n=s("5e27"),r=s.n(n);r.a},"5e27":function(t,e,s){},"61e8":function(t,e,s){},"724d":function(t,e,s){},7576:function(t,e,s){"use strict";var n=s("4071"),r=s.n(n);r.a},8398:function(t,e,s){"use strict";var n=s("40c8"),r=s.n(n);r.a},"8dac":function(t,e,s){"use strict";var n=s("1ced"),r=s.n(n);r.a},9042:function(t,e,s){"use strict";var n=s("1f28"),r=s.n(n);r.a},"9af4":function(t,e,s){"use strict";var n=s("16d0"),r=s.n(n);r.a},"9d54":function(t,e,s){t.exports=s.p+"img/home.139d5ae7.svg"},af57:function(t,e,s){"use strict";var n=s("1f9b"),r=s.n(n);r.a},af8c:function(t,e,s){"use strict";var n=s("b91e"),r=s.n(n);r.a},b162:function(t,e,s){"use strict";var n=s("3d85"),r=s.n(n);r.a},b16a:function(t,e,s){"use strict";var n=s("06c3"),r=s.n(n);r.a},b91e:function(t,e,s){},c432:function(t,e,s){"use strict";var n=s("724d"),r=s.n(n);r.a},c654:function(t,e,s){"use strict";var n=s("3f4e"),r=s.n(n);r.a},d546:function(t,e,s){"use strict";var n=s("e16a"),r=s.n(n);r.a},e16a:function(t,e,s){}});
//# sourceMappingURL=app.d9ce5d5d.js.map