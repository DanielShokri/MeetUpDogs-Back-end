(function(e){function t(t){for(var n,i,a=t[0],c=t[1],u=t[2],d=0,g=[];d<a.length;d++)i=a[d],s[i]&&g.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(g.length)g.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var c=r[a];0!==s[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"00e3":function(e,t,r){},"086d":function(e,t,r){"use strict";var n=r("8810"),s=r.n(n);s.a},1:function(e,t){},"1bc9":function(e,t,r){},"20ce":function(e,t,r){},"239b":function(e,t,r){},"27f1":function(e,t,r){"use strict";var n=r("a35a"),s=r.n(n);s.a},"282d":function(e,t,r){"use strict";var n=r("9483"),s=r.n(n);s.a},3672:function(e,t,r){},"3ae4":function(e,t,r){},"3b29":function(e,t,r){"use strict";var n=r("3672"),s=r.n(n);s.a},"3f4e":function(e,t,r){},"462a":function(e,t,r){"use strict";var n=r("7421"),s=r.n(n);s.a},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return r(t)}function o(e){var t=n[e];if(!(t+1)){var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}return t}s.keys=function(){return Object.keys(n)},s.resolve=o,e.exports=s,s.id="4678"},"4db9":function(e,t,r){"use strict";var n=r("00e3"),s=r.n(n);s.a},5122:function(e,t,r){"use strict";var n=r("20ce"),s=r.n(n);s.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("a026"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-content",[r("app-header"),e.isChatOpen?r("chat"):e._e(),r("router-view")],1),r("footer",[r("div",{staticClass:"content has-text-centered"},[e._v("\n      MEET\n      "),r("strong",[e._v("HAV")]),r("br"),e._v("by Daniel Shokri, Idan Elbaz and Chen Mordechai\n    ")])])],1)},o=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[r("div",{staticClass:"navbar-brand"},[r("img",{staticClass:"logo",attrs:{src:"https://i.imgur.com/d7kCfoE.png",width:"170"},on:{click:e.goHome}}),r("a",{staticClass:"navbar-burger burger",class:{"is-active":e.isActive},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:e.toggleNav}},[r("span",{attrs:{"aria-hidden":"true"}}),r("span",{attrs:{"aria-hidden":"true"}}),r("span",{attrs:{"aria-hidden":"true"}})])]),r("div",{staticClass:"navbar-menu",class:{"is-active":e.isActive},attrs:{id:"navbarBasicExample"}},[r("div",{staticClass:"navbar-start"}),r("div",{staticClass:"navbar-end"},[null===e.getUser?r("div",[r("div",{staticClass:"navbar-item"},[r("div",{staticClass:"buttons",staticStyle:{"justify-content":"center"}},[r("router-link",{staticClass:"navbar-item home",attrs:{to:"/"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Home")]),r("router-link",{staticClass:"navbar-item",attrs:{to:"/user"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Dogs around")]),r("router-link",{staticClass:"navbar-item ",attrs:{to:"/signup"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Sign Up")]),r("button",{staticClass:"navbar-item login",on:{click:[e.toggleNav,function(t){return e.cardModal()}]}},[e._v("Log In")])],1)])]):e._e(),null!==e.getUser?r("div",{staticClass:"navbar-menu",class:{"is-active":e.isActive}},[r("router-link",{staticClass:"navbar-item home",attrs:{to:"/"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Home")]),r("router-link",{staticClass:"navbar-item",attrs:{to:"/user"},nativeOn:{click:function(t){return e.toggleNav(t)}}},[e._v("Dogs around")]),r("p",{staticClass:"navbar-item"},[r("b",[e._v(" "+e._s(e.getUser.owner.fullName))])]),r("b-dropdown",{attrs:{position:"is-bottom-left","aria-role":"menu"}},[r("a",{staticClass:"navbar-item",attrs:{slot:"trigger",role:"button"},slot:"trigger"},[r("v-badge",{attrs:{left:""},scopedSlots:e._u([{key:"badge",fn:function(){return[e.getNotfications?r("span",[e._v(e._s(e.getNotfications.length)+" ")]):e._e()]},proxy:!0}],null,!1,2958402600)}),r("span",[e._v(" Menu")]),r("b-icon",{attrs:{icon:"menu-down"}})],1),r("b-dropdown-item",{attrs:{"aria-role":"menuitem"},on:{click:e.goToMyNotfication},nativeOn:{click:function(t){return e.toggleNav(t)}}},[r("b-icon",{attrs:{icon:"bell"}}),e._v("Notification's "),e.getNotfications?r("span",[e._v("("+e._s(e.getNotfications.length)+") ")]):e._e()],1),r("b-dropdown-item",{attrs:{value:"settings"},on:{click:e.goToMyProfile},nativeOn:{click:function(t){return e.toggleNav(t)}}},[r("b-icon",{attrs:{icon:"settings"}}),e._v("Profile\n          ")],1),r("hr",{staticClass:"dropdown-divider",attrs:{"aria-role":"menuitem"}}),r("b-dropdown-item",{attrs:{value:"logout","aria-role":"menuitem"},on:{click:e.userLogout},nativeOn:{click:function(t){return e.toggleNav(t)}}},[r("b-icon",{attrs:{icon:"logout"}}),e._v("Logout\n          ")],1)],1)],1):e._e()])])])},a=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[r("div",{staticClass:"modal-card",staticStyle:{"min-width":"auto"}},[e._m(0),r("section",{staticClass:"modal-card-body"},[r("b-field",{attrs:{label:"Username"}},[r("b-input",{ref:"username",attrs:{type:"text",placeholder:"Your username",required:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),r("b-field",{attrs:{label:"Password"}},[r("b-input",{attrs:{type:"password","password-reveal":"",placeholder:"Your password",required:""},model:{value:e.user.pass,callback:function(t){e.$set(e.user,"pass",t)},expression:"user.pass"}})],1)],1),e._m(1)])])},u=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"modal-card-head"},[r("p",{staticClass:"modal-card-title"},[e._v("Login")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"modal-card-foot"},[r("button",{staticClass:"button is-primary"},[e._v("Login")])])}],l=r("8055"),d=r.n(l),g=d()("http://localhost:3000"),p=g,f=new n["default"],h={data:function(){return{user:{name:"",pass:""}}},mounted:function(){this.$refs.username.focus()},created:function(){},methods:{loginUser:function(){var e=this;this.$store.dispatch({type:"userLogin",currUser:this.user}).then(function(t){f.$emit("userLogin"),p.emit("chat join",e.$store.getters.getcurrLoggedinUser),p.emit("user login",e.$store.getters.getcurrLoggedinUser._id),e.$toast.open({message:"Login Successfully!",type:"is-success",duration:2e3}),e.$emit("close")}).catch(function(t){e.$toast.open({message:"Login Failed!",type:"is-danger",duration:2e3}),e.$emit("close")})}}},m=h,v=r("2877"),b=Object(v["a"])(m,c,u,!1,null,null,null),y=b.exports,k={data:function(){return{isActive:!1,user:{name:"",pass:""}}},methods:{toggleNav:function(){this.isActive=!this.isActive},goHome:function(){this.$router.push("/")},goToMyNotfication:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"Notfication"}),this.$router.push("/user/".concat(this.getUser._id,"/#notfication"))},goToMyProfile:function(){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(this.getUser._id))},cardModal:function(){this.$modal.open({parent:this,component:y,hasModalCard:!0,customClass:"custom-class custom-class-2"})},userLogout:function(){var e=this;this.$store.dispatch({type:"userLogout"}).then(function(){f.$emit("userLoggedOut"),e.$toast.open({message:"You have logout",type:"is-danger",duration:2e3})})}},computed:{getUser:function(){return this.$store.getters.getcurrLoggedinUser},getNotfications:function(){return this.$store.getters.getNotfications},getLink:function(){return"/user/".concat(this.getUser._id)}}},_=k,U=(r("4db9"),Object(v["a"])(_,i,a,!1,null,"3167ffa7",null)),C=U.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.user&&e.chatClosed?r("div",{staticClass:"chat"},[r("button",{staticClass:"close-chat",on:{click:e.closeChat}},[e._v("X")]),r("div",{staticClass:"chat-title"},[r("h1",[e._v(e._s(this.user.owner.fullName))]),r("figure",{staticClass:"avatar"},[r("img",{attrs:{src:this.user.profileImg}})])]),r("div",{staticClass:"messages"},[r("div",{staticClass:"messages-content"},[e._l(e.messagess,function(t,n){return r("ul",{key:n},[r("li",{class:{"message-from":t.from===e.user.owner.fullName}},[e._v(e._s(t.from)+" : "+e._s(t.txt)+" ")])])}),r("p",[e._v(e._s(e.msgUserTyping))])],2)]),r("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[r("div",{staticClass:"message-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"txt"}],staticClass:"message-input",attrs:{type:"text",placeholder:"Type message..."},domProps:{value:e.txt},on:{input:[function(t){t.target.composing||(e.txt=t.target.value)},e.userIsTyping]}}),r("button",{staticClass:"message-submit",attrs:{type:"submit"}},[e._v("Send")])])])]):e._e(),r("div",{staticClass:"bg"})])},j=[],x={data:function(){return{user:null,members:null,txt:"",messagess:[],msgUserTyping:"",chatClosed:!0}},created:function(){var e=this;f.$on("chatOpen",function(t,r){e.user=t;var n=[t,r];e.members=n,p.emit("test users chat",n)}),p.on("test got msg",function(t){e.messagess.push(t)}),p.on("chat history",function(t){e.messagess=t});var t=!1;p.on("user isTyping",function(r){t&&clearTimeout(t),e.msgUserTyping=r,t=setTimeout(function(){e.msgUserTyping=""},2500)})},destroyed:function(){p.removeListener("chat newMsg"),p.removeListener("chat history"),p.removeListener("user typing")},methods:{sendMsg:function(){var e=this.$store.getters.getcurrLoggedinUser.owner.fullName,t={from:e,txt:this.txt};p.emit("chat msg",{members:this.members,msg:t}),p.emit("chat notification",e,this.user),this.txt=""},userIsTyping:function(){var e=this.$store.getters.getcurrLoggedinUser.owner.fullName;console.log(e),p.emit("user typing",{members:this.members,user:e})},closeChat:function(){this.chatClosed=!this.chatClosed}}},$=x,L=(r("b04d"),Object(v["a"])($,w,j,!1,null,"09b21a33",null)),I=L.exports,D={components:{AppHeader:C,chat:I},data:function(){return{user:null,userChatWith:null}},methods:{},created:function(){var e=this;this.$store.dispatch({type:"loggedInUser"}),p.on("friend req sent",function(t){console.log("Listen to emit"),e.$toast.open({message:"You have got freind request from ".concat(t),type:"is-success",duration:2e3})}),p.on("chat notification sent",function(t){console.log("Listen to emit"),e.$toast.open({message:"You have got message from ".concat(t),type:"is-success",duration:2e3})}),p.on("friend like sent",function(t){e.$toast.open({message:"You have got liked by ".concat(t),type:"is-success"})}),f.$on("userLogin",function(){e.$store.dispatch({type:"loggedInUser"})}),f.$on("userLoggedOut",function(){e.$store.dispatch({type:"loggedInUser"})})},computed:{isChatOpen:function(){return this.$store.getters.isChatOpen}}},F=D,O=(r("5c0b"),Object(v["a"])(F,s,o,!1,null,null,null)),P=O.exports,S=r("8c4f"),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"top-section"},[n("img",{staticClass:"mainImg",attrs:{src:r("9d54")}}),n("img",{staticClass:"mobileImg",attrs:{src:r("96fa"),alt:""}}),n("div",{staticClass:"filterAndSelfContainer"},[e._m(0),n("UsersFilter",{on:{setFilter:e.setFilter}})],1)]),n("section",{staticClass:"hero parks-section"},[n("div",{staticClass:"hero-body"},[e._m(1),n("park-list"),n("h1",{staticClass:"see-more",on:{click:e.seeMoreParks}},[e._v("\n        See More\n        "),n("b-icon",{staticClass:"icon",attrs:{icon:"chevron-right"}})],1),n("br")],1)]),n("div",{staticClass:"sandbox"},[e.dogs?n("section",{staticClass:"hero dogs-section"},[n("div",{staticClass:"hero-body"},[e._m(2),n("dog-list",{attrs:{dogs:e.dogsToShow,loggedinUser:e.currUser,userLoc:e.userLoc},on:{chatWith:e.userChatWith,delete:e.deleteDog,openChat:e.openChat}}),n("h1",{staticClass:"see-more",on:{click:e.seeMore}},[e._v("\n          See More\n          "),n("b-icon",{staticClass:"icon",attrs:{icon:"chevron-right"}})],1),n("br")],1)]):e._e()])])},R=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"statment"},[e._v("\n        Meet new and\n        intresting\n        "),r("br"),e._v("dogs & people nearby\n      ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"parks-title1",staticStyle:{"margin-left":"15px"}},[r("strong",[e._v("Nearby Parks")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"parks-title",staticStyle:{"margin-top":"12px"}},[r("strong",[e._v("Nearby Dogs")])])}],T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"mapTo"}},[e.dogs&&e.userLoc?r("GmapMap",{ref:"mapRef",attrs:{center:{lat:e.currPark.geometry.location.lat,lng:e.currPark.geometry.location.lng},zoom:e.zoomIn,"map-type-id":"terrain"}},[r("gmap-info-window",{attrs:{options:e.infoOptions,position:e.infoWindowPos,opened:e.infoWinOpen},on:{closeclick:function(t){e.infoWinOpen=!1}}}),e._l(e.dogsToShowNotFriends,function(t,n){return r("GmapMarker",{key:t._id,attrs:{position:t.position,clickable:!0,draggable:!0,icon:e.usersIcons},on:{click:function(r){e.setCenter(t.position,15,r),e.toggleInfoWindow(t,n)}}})}),e._l(e.dogsToShowFriends,function(t,n){return r("GmapMarker",{key:n,attrs:{position:t.position,clickable:!0,draggable:!0,icon:e.friendsIcon},on:{click:function(r){e.setCenter(t.position,15,r),e.toggleInfoWindow(t,n)}}})}),r("GmapMarker",{attrs:{userLocation:"",position:e.userLoc.position,clickable:!0,draggable:!0,icon:e.myIcon},on:{click:function(t){e.setCenter(e.userLoc.position,15,t),e.toggleInfoWindow(e.userLoc,0)}}}),r("GmapMarker",{attrs:{userLocation:"",position:e.currPark.geometry.location,clickable:!0,draggable:!0},on:{click:function(t){e.setCenter(e.currPark.geometry.location,15,t),e.toggleInfoWindow(e.currPark.geometry,0)}}})],2):e._e()],1)},M=[],q=(r("7f7f"),r("96cf"),r("3b8d")),E=r("bc3a"),B=r.n(E),W="/api/",z=B.a.create({withCredentials:!0});function A(e){return Y.apply(this,arguments)}function Y(){return Y=Object(q["a"])(regeneratorRuntime.mark(function e(t){var r,n,s,o,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"get",n=i.length>2&&void 0!==i[2]?i[2]:null,s=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=3,e.next=6,z({url:"".concat(W).concat(t),method:r,data:n,params:s});case 6:return o=e.sent,e.abrupt("return",o.data);case 10:e.prev=10,e.t0=e["catch"](3),401===e.t0.response.status&&dr.push("/");case 13:case"end":return e.stop()}},e,null,[[3,10]])})),Y.apply(this,arguments)}var V={get:function(e,t){return A(e,"GET",null,t)},post:function(e,t){return A(e,"POST",t)},put:function(e,t){return A(e,"PUT",t)},delete:function(e,t){return A(e,"DELETE",t)}},J={query:K,add:se,remove:oe,getById:ne,update:ie,logIn:ce,logOut:le,signUp:ue,getLoggedinUser:ae,getPosition:H,sendFriendReq:X,getFriendReq:re,makeFriendshipOn:Z,rejectFriendshipOn:ee,removeFriendship:te,addLike:Q};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"dog/".concat(e)}function H(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)})}function K(e){return V.get(G(),e)}function X(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(G("sendFriendReq"),{dogId:e,user:t[0]})}function Q(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(G("addLike"),{dogId:e,user:t[0]})}function Z(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(G("makeFriendship"),{dog:e,user:t[0]})}function ee(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(G("rejectFriendship"),{dog:e,user:t[0]})}function te(e){var t=JSON.parse(sessionStorage.getItem("LoggedUser"));return V.put(G("removeFriendship"),{dogId:e,user:t[0]})}function re(e,t,r){var n={dogId:e,dogImg:t,dogName:r};return V.post(G("getFriendReq"),n)}function ne(e){return V.get(G(e))}function se(e){return V.post(G("add"),e)}function oe(e){return V.delete(G(e))}function ie(e){return V.put(G("edit/".concat(e._id)),e)}function ae(){var e=JSON.parse(sessionStorage.getItem("LoggedUser"));return null===e?Promise.resolve(e):Promise.resolve(e[0])}function ce(e){return V.post(G(),e).then(function(e){if(!e)throw new Error("Cant Login");return sessionStorage.setItem("LoggedUser",JSON.stringify(e)),e[0]}).catch(function(e){throw console.log(e,"at front service"),e})}function ue(e){return e.isAdmin=!1,V.post(G("signup"),e).then(function(e){return e}).catch(function(e){throw console.log(e),e})}function le(){return V.post(G("logout")).then(function(){sessionStorage.clear()}).catch(function(e){throw console.log("Could not logout",e),e})}var de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dogs&&e.currPark?r("section",{staticClass:"userLiList"},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"containor"},[r("v-card",[r("v-toolbar",{attrs:{color:"teal",dark:""}},[r("v-toolbar-title",{staticClass:"text-xs-center"},[e._v(e._s(e.currPark.name))]),r("v-spacer")],1),r("v-list",{attrs:{subheader:""}},[r("v-subheader",[e._v("Dogs in the park")]),e._l(e.dogsToShow,function(t){return r("v-list-tile",{key:t._id,attrs:{avatar:""},on:{click:function(r){return e.goToUserProfile(t._id)}}},[r("v-list-tile-avatar",[r("img",{attrs:{src:t.profileImg}})]),t.distanceTextFromUser?r("v-list-tile-content",[r("v-list-tile-title",{domProps:{innerHTML:e._s(t.preference.name+" & "+t.owner.fullName+" ("+t.distanceValueFromUser/1e3+"km from you)")}})],1):r("v-list-tile-content",[r("v-list-tile-title",{domProps:{innerHTML:e._s(t.preference.name+" & "+t.owner.fullName)}})],1)],1)})],2),r("v-divider")],1)],1)],1)],1):e._e()},ge=[],pe={getInfo:fe,getDist:he};function fe(e){return B.a.get("".concat(me(),"/getPos?lat=").concat(e.lat,"&lng=").concat(e.lng)).then(function(e){return e.data})}function he(e){return B.a.get("".concat(me(),"/getDistance?dist=").concat(e.userLoc,"&userdist=").concat(e.usersLoc)).then(function(e){return e.data})}function me(){return"/api/google"}var ve={name:"usersList",data:function(){return{userLoc:null,dogs:null,dogsList:[]}},props:["currPark"],computed:{distanceInKm:function(e){return e.distanceValueFromUser/1e3},dogsToShow:function(){for(var e=[],t=0;t<this.dogs.length;t++){var r=function(e){return e*Math.PI/180},n=this.dogs[t].location.lat,s=this.dogs[t].location.lng,o=this.currPark.geometry.location.lat,i=this.currPark.geometry.location.lng,a=6371,c=r(o-n),u=r(i-s);n=r(n),o=r(o);var l=Math.sin(c/2)*Math.sin(c/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(n)*Math.cos(o),d=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),g=a*d;g<=1&&e.push(this.dogs[t])}return e}},methods:{goToUserProfile:function(e){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(e))}},components:{},created:function(){var e=this;this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.$store.dispatch({type:"loadSortDogs"}).then(function(){e.dogs=e.$store.getters.dogsToShow})})})}},be=ve,ye=(r("a5fc"),Object(v["a"])(be,de,ge,!1,null,null,null)),ke=ye.exports,_e={name:"usersMap",data:function(){return{userLoc:null,currUser:null,dogs:null,langs:["he","en"],times:[1552552892953,1552552891953,1552522892953],zoomIn:18,posIsrael:{lat:32.088007,lng:34.8031678},infoWindowPos:null,infoWinOpen:!1,currentMidx:null,notFriends:[],friends:[],infoOptions:{content:"",pixelOffset:{width:0,height:-35}}}},props:["currPark"],computed:{dogsToShowNotFriends:function(){for(var e=[],t=0;t<this.notFriends.length;t++)e.push({position:{lat:this.notFriends[t].location.lat,lng:this.notFriends[t].location.lng},infoText:"<p>".concat(this.notFriends[t].owner.fullName,"</p>")});return e},dogsToShowFriends:function(){if(null!==this.currUser){for(var e=[],t=0;t<this.friends.length;t++)e.push({position:{lat:this.friends[t].location.lat,lng:this.friends[t].location.lng},infoText:"<p>".concat(this.friends[t].owner.fullName,"</p>")});return e}},userLocation:function(){return this.userLoc},usersIcons:function(){return"https://img.icons8.com/carbon-copy/40/000000/dog.png"},myIcon:function(){return"https://img.icons8.com/ultraviolet/40/000000/dog.png"},friendsIcon:function(){return" https://img.icons8.com/color/40/000000/dog.png"}},methods:{setCenter:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;arguments.length>2&&arguments[2];this.$refs.mapRef.$mapPromise.then(function(n){n.panTo(e),t.zoomIn=r})},toggleInfoWindow:function(e,t){e.position||(e.position=e.location),this.infoWindowPos=e.position,e.infoText||(e.infoText=this.currPark.name),this.infoOptions.content=e.infoText,this.currentMidx==t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)}},components:{},created:function(){var e=this;this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loggedInUser"}).then(function(){if(e.dogs=e.$store.getters.dogsToShow,e.currUser=e.$store.getters.getLoggedinUser,null===e.currUser&&(e.currUser={friends:[]}),e.currUser.friends.length>0)for(var t=0;t<e.currUser.friends.length;t++)for(var r=0;r<e.dogs.length;r++)e.currUser.friends[t].userId===e.dogs[r]._id?e.friends.push(e.dogs[r]):e.notFriends.push(e.dogs[r]);else e.notFriends=e.dogs.map(function(e){return e});J.getPosition().then(function(t){if(1==e.currUser)var r="<p>".concat(e.currUser.owner.fullName,"</p>");else r="<p>Guest</p>";e.userLoc={position:{lat:t.coords.latitude,lng:t.coords.longitude},infoText:r}})})})}},Ue=_e,Ce=(r("5ae7"),Object(v["a"])(Ue,T,M,!1,null,"4f916f0e",null)),we=Ce.exports,je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.userLoc&&e.gardens?r("section",{staticClass:"parksList"},[r("v-layout",{staticStyle:{"justify-content":"space-between",padding:"25px"},attrs:{row:"",wrap:""}},[e._l(e.gardens,function(t){return r("div",{key:t.id,staticClass:"onlyDesk"},[t?r("parkPrev",{staticStyle:{"margin-bottom":"20px"},attrs:{park:t}}):e._e()],1)}),r("div",{staticClass:"onlyCell"},[e.parkToShow?r("parkPrev",{staticStyle:{margin:"0 auto"},attrs:{park:e.parkToShow},on:{nextPark:e.plusDivs}}):e._e()],1)],2)],1):e._e()},xe=[],$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.park?r("main",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.swipeHandler,expression:"swipeHandler",arg:"swipe"}]},[r("figure",[r("img",{attrs:{"aspect-ratio":"1.75",src:e.park.img},on:{click:e.goParkDetails}})]),r("br"),r("div",{staticClass:"content-container"},[r("a",{on:{click:e.goParkDetails}},[r("h3",{staticClass:"title"},[e._v(e._s(e.park.name))])]),r("section",{staticClass:"content"},[r("button",{staticClass:"plus onlyCell",on:{click:function(t){return e.plusDivs(-1)}}},[e._v("❮")]),r("button",{staticClass:"minus onlyCell",on:{click:function(t){return e.plusDivs(1)}}},[e._v("❯")]),r("p",{staticClass:"subtitle padding"},[e._v(e._s(e.distance/100)+" km from you")]),r("br"),r("p",{staticClass:"subtitle"},[e._v("There are "+e._s(e.distanceFromUsering)+" dogs in park")]),r("br"),e.park.rating?r("p",{staticClass:"rate"},[r("b-icon",{staticClass:"b-icon",attrs:{icon:"star"}}),e._v("\n        "+e._s(e.park.rating)+" (1k+)\n      ")],1):e._e()])])]):e._e()},Le=[],Ie=(r("6b54"),{props:{park:Object},data:function(){return{user:null,dogs:null,numOfStars:3}},created:function(){this.dogs=this.$store.getters.dogsToShow,this.user=this.$store.getters.getLoggedinUser,this.numOfStars=this.park.rating},methods:{addReview:function(){},goParkDetails:function(){var e=this;this.$store.dispatch({type:"goToPark",park:this.park}).then(function(){e.$router.push("/park-details")})},plusDivs:function(e){this.$emit("nextPark",e)},swipeHandler:function(e){"right"===e?this.plusDivs(1):"left"===e&&this.plusDivs(-1)}},computed:{distance:function(){if(this.park.distanceValueFromUser){var e=this.park.distanceValueFromUser;return e.toString().substring(0,3)}},imgToLoad:function(){return this.park.photos[1]?this.park.img:"http://eaawaj.com/wp-content/uploads/2018/06/4241508-park.jpg"},distanceFromUsering:function(){for(var e=[],t=0;t<this.dogs.length;t++){var r=function(e){return e*Math.PI/180},n=this.dogs[t].location.lat,s=this.dogs[t].location.lng,o=this.park.geometry.location.lat,i=this.park.geometry.location.lng,a=6371,c=r(o-n),u=r(i-s);n=r(n),o=r(o);var l=Math.sin(c/2)*Math.sin(c/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(n)*Math.cos(o),d=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),g=a*d;g<=1&&e.push(this.dogs[t])}return e.length}}}),De=Ie,Fe=(r("8a8a"),Object(v["a"])(De,$e,Le,!1,null,"56dfcc76",null)),Oe=Fe.exports,Pe={name:"parksList",data:function(){return{distance:"",userLoc:null,gardens:[],photos:[],indexRoll:0}},components:{parkPrev:Oe},created:function(){var e=this;J.getPosition().then(function(t){e.userLoc={position:{lat:t.coords.latitude,lng:t.coords.longitude}},pe.getInfo(e.userLoc.position).then(function(t){for(var r=0;r<4;r++)e.gardens.push(t[r]),e.photos.push(e.gardens[r].photos[0].photo_reference),e.gardens[r].img="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(e.gardens[r].photos[0].photo_reference,"&key=AIzaSyCrVxVPta_TOsFatlYL7vOx_stAJNlV8ws");var n=JSON.parse(JSON.stringify(e.gardens));e.$store.dispatch({type:"loadParks",gardens:n}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.$store.dispatch({type:"loadParksLocFromUser"}).then(function(){e.gardens=e.$store.getters.getParks})})})})})},computed:{parkToShow:function(){if(this.gardens.length>0)return this.gardens[this.indexRoll]}},methods:{plusDivs:function(e){this.indexRoll>=0&&this.indexRoll<4&&(1===e&&3===this.indexRoll?(this.indexRoll=0,this.parkToShow):-1===e&&0===this.indexRoll?(this.indexRoll=3,this.parkToShow):(this.indexRoll+=e,this.parkToShow))}}},Se=Pe,Ne=(r("086d"),Object(v["a"])(Se,je,xe,!1,null,"bf6a45d6",null)),Re=Ne.exports,Te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dogs?r("v-layout",{attrs:{row:"",wrap:""}},[r("div",[r("dog-preview",{staticClass:"onlyCell",staticStyle:{width:"307px"},attrs:{loggedinUser:e.loggedinUser,dog:e.dogToShow,userLoc:e.userLoc},on:{nextDog:e.plusDivs,delete:e.emitDeleteDog,chatWith:e.userChatWith,openChat:e.openChat}})],1),e._l(e.dogs,function(t){return r("v-flex",{key:t._id,staticClass:"onlyDesk",attrs:{xs12:"",sm6:"",mb4:"",lg3:""}},[r("dog-preview",{attrs:{loggedinUser:e.loggedinUser,dog:t,userLoc:e.userLoc},on:{openChat:e.openChat,chatWith:e.userChatWith,delete:e.emitDeleteDog}})],1)})],2):e._e()},Me=[],qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dog?r("div",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.swipeHandler,expression:"swipeHandler",arg:"swipe"}],staticClass:"grid"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card__thumbnail",style:{"background-image":"url("+e.imgToLoad+")",height:"300px"},on:{click:function(t){return e.openProfile(e.dog._id)}}}),r("span",{staticClass:"card__content"},[r("button",{staticClass:"plus onlyCell",on:{click:function(t){return e.plusDivs(-1)}}},[e._v("❮")]),r("button",{staticClass:"minus onlyCell",on:{click:function(t){return e.plusDivs(1)}}},[e._v("❯")]),r("h3",[e._v(e._s(e.dog.owner.fullName)+" and "+e._s(e.dog.preference.name))]),r("span",{staticClass:"ago"},[e._v(e._s(e.dog.preference.name)+" is "+e._s(e.dog.preference.type))]),r("p",[e._v(e._s(e.distanceFromCurrUser)+" km from you")])]),r("div",{staticClass:"card__footer"},[r("div",{staticClass:"card__footer__meta"},[r("span",{staticClass:"meta",attrs:{tooltip:"Like"}},[r("button",{on:{click:function(t){return e.addLike(e.dog._id)}}},[r("b-icon",{attrs:{icon:"thumb-up"}})],1)]),r("span",{staticClass:"meta more",attrs:{tooltip:"Likes"}},[e._v("\n          "+e._s(e.dog.gotLikes.length)+"\n          "),r("i",{staticClass:"fa fa-eye"})]),r("span",{staticClass:"meta",attrs:{tooltip:"Friendog"}},[r("button",{on:{click:function(t){return e.addFriend(e.dog._id)}}},[r("b-icon",{attrs:{icon:"account-plus"}})],1)]),r("span",{staticClass:"meta more",attrs:{tooltip:"Friends"}},[e._v("\n          "+e._s(e.dog.friends.length)+"\n          "),r("i",{staticClass:"fa fa-share"})]),r("span",{staticClass:"meta",attrs:{tooltip:"chat"}},[r("button",{on:{click:function(t){return t.preventDefault(),e.openChat(e.dog)}}},[r("b-icon",{attrs:{icon:"chat-processing"}})],1)])])])])]):e._e()},Ee=[],Be=(r("7514"),{props:["dog","loggedinUser","userLoc"],data:function(){return{}},methods:{openChat:function(e){null!==this.loggedinUser?this.$emit("openChat",e):this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},plusDivs:function(e){this.$emit("nextDog",e)},swipeHandler:function(e){"right"===e?this.plusDivs(1):"left"===e&&this.plusDivs(-1)},addFriend:function(e){var t=this;if(null===this.loggedinUser)this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3});else{var r=this.loggedinUser.friends,n=this.loggedinUser.sentFriendsReq;r.find(function(e){return e.userId===t.dog._id})?this.$toast.open({message:"You are already friends",type:"is-danger",duration:2e3}):n.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You have already sent friend request",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendReq",dogId:e}).then(function(){p.emit("friend req",t.dog,t.$store.getters.getcurrLoggedinUser),t.$toast.open({message:"friend request successfully sent!",type:"is-success",duration:2e3})})}},addLike:function(e){var t=this;if(console.log(this.loggedinUser),null===this.loggedinUser)this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3});else{var r=this.loggedinUser.sentLikes;r.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You are already Liked",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendLike",dogId:e}).then(function(){t.$toast.open({message:"Like successfully!",type:"is-success",duration:2e3}),p.emit("friend like",t.dog,t.$store.getters.getcurrLoggedinUser)})}},goToEdit:function(e){this.$router.push("/user/edit/".concat(e))},emitDeleteDog:function(e){this.$emit("delete",e)},openProfile:function(e){this.$store.dispatch({type:"loadCompInProfile",comp:"Gallery"}),this.$router.push("/user/".concat(e))}},computed:{distanceFromCurrUser:function(){var e=this.dog.location.lat,t=this.dog.location.lng,r=this.userLoc.position.lat,n=this.userLoc.position.lng,s=6371,o=l(r-e),i=l(n-t);e=l(e),r=l(r);var a=Math.sin(o/2)*Math.sin(o/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(e)*Math.cos(r),c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)),u=s*c;function l(e){return e*Math.PI/180}var d=u.toString().substring(0,4);return d},gender:function(){return"female"===this.dog.preference.gender?"she":"he"},getLocation:function(){this.dog.location},imgToLoad:function(){return this.dog.profileImg?this.dog.profileImg:"https://cdn1.medicalnewstoday.com/content/images/articles/322/322868/golden-retriever-puppy.jpg"}},components:{}}),We=Be,ze=(r("f9d9"),Object(v["a"])(We,qe,Ee,!1,null,"b2931c60",null)),Ae=ze.exports,Ye={props:["dogs","loggedinUser","userLoc"],data:function(){return{indexRoll:0}},computed:{dogToShow:function(){return this.dogs[this.indexRoll]}},methods:{openChat:function(e){this.$emit("openChat",e),console.log("list open")},emitDeleteDog:function(e){this.$emit("delete",e)},plusDivs:function(e){this.indexRoll>=0&&this.indexRoll<this.dogs.length&&(1===e&&this.indexRoll===this.dogs.length-1?(this.indexRoll=0,this.dogToShow):-1===e&&0===this.indexRoll?(this.indexRoll=this.dogs.length-1,this.dogToShow):(this.indexRoll+=e,this.dogToShow))},userChatWith:function(e){this.$emit("chatWith",e)}},components:{DogPreview:Ae}},Ve=Ye,Je=(r("9e1a"),Object(v["a"])(Ve,Te,Me,!1,null,"db0906ca",null)),Ge=Je.exports,He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],staticClass:"users-search input",attrs:{type:"text",placeholder:"Search your Dogfriends"},domProps:{value:e.filterBy.txt},on:{change:e.searchUser,input:function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)}}}),r("a",{staticClass:"button search-btn",on:{click:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchUser(t)}}},[r("b-icon",{attrs:{icon:"magnify"}})],1)])},Ke=[],Xe={data:function(){return{filterBy:{txt:""}}},methods:{searchUser:function(){this.$emit("setFilter",this.filterBy)}}},Qe=Xe,Ze=(r("a4be"),Object(v["a"])(Qe,He,Ke,!1,null,"0185620d",null)),et=Ze.exports,tt={name:"home",data:function(){return{dogs:null,numOfParks:4,currUser:null,userLoc:null}},created:function(){var e=this;this.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser}),this.$store.dispatch({type:"loadCompInProfile",comp:"gallery"}),this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.userLoc=e.$store.getters.getUserLoc,e.$store.dispatch({type:"loadSortDogs"}).then(function(){e.dogs=e.$store.getters.dogsToShow})})}),f.$on("userLogin",function(){e.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser})}),f.$on("userLoggedOut",function(){e.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser})})},computed:{dogsToShow:function(){var e=this;if(null===this.currUser){var t=[this.dogs[0],this.dogs[1],this.dogs[2],this.dogs[3]];return t}var r=this.dogs.filter(function(t){return t._id!==e.currUser._id});t=[r[0],r[1],r[2],r[3]];return t}},methods:{openChat:function(e){var t=this;this.$store.dispatch({type:"isChatOpen",dog:e}).then(function(){var r=t.$store.getters.getcurrLoggedinUser;t.$store.getters.isChatOpen&&f.$emit("chatOpen",e,r),p.emit("chat join",t.$store.getters.getcurrLoggedinUser)})},seeMore:function(){this.$router.push("/user")},setFilter:function(e){var t=this;console.log(e),this.$store.dispatch({type:"setFilter",filterBy:e}).then(function(){t.$router.push("/user")})},userChatWith:function(e){this.$emit("chatWith",e)},deleteDog:function(e){this.$store.dispatch({type:"deleteDog",dogId:e})},seeMoreParks:function(){this.$router.push("/parks")}},components:{UserListMap:we,ParkList:Re,UserLiList:ke,UsersFilter:et,DogList:Ge}},rt=tt,nt=(r("462a"),Object(v["a"])(rt,N,R,!1,null,"5e3de5fc",null)),st=nt.exports,ot=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-wrapper bg-red p-t-180 p-b-100 font-robo"},[r("div",{staticClass:"wrapper wrapper--w960"},[r("div",{staticClass:"card card-2"},[r("div",{staticClass:"card-heading"}),r("div",{staticClass:"card-body"},[r("h2",{staticClass:"title"},[e._v("Registration")]),r("v-form",{attrs:{id:"signup-form"},on:{submit:function(t){return t.preventDefault(),e.saveUser(t)}}},[r("v-text-field",{attrs:{rules:e.nameRules,label:"Username",required:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),r("v-text-field",{staticClass:"input-group--focused",attrs:{name:"input-10-2",label:"Password",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),r("v-btn",{attrs:{color:"dark",type:"submit",form:"signup-form"}},[e._v("Register")])],1)],1)])])])},it=[],at={data:function(){return{user:{username:"",password:""},valid:!1,nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=10||"Name must be less than 10 characters"}],email:""}},methods:{saveUser:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.user,e.prev=1,e.next=4,this.$store.dispatch({type:"userSignup",user:t});case 4:return r=e.sent,this.$toast.open({message:"Register Successfully!",type:"is-success",duration:2e3}),this.$router.push("/"),e.abrupt("return",r);case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}()}},ct=at,ut=(r("c654"),Object(v["a"])(ct,ot,it,!1,null,"eabc28f6",null)),lt=ut.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dogs&&e.userLoc?r("section",[r("UsersFilter",{on:{setFilter:e.setFilter}}),r("dog-list",{attrs:{userLoc:e.userLoc,loggedinUser:e.currUser,dogs:e.dogs},on:{openChat:e.openChat,delete:e.deleteDog,chatWith:e.userChatWith}})],1):e._e()},gt=[],pt={data:function(){return{userLoc:null,sortDog:!1,currUser:null}},created:function(){var e=this;this.$store.dispatch({type:"loadCompInProfile",comp:"gallery"}),this.$store.dispatch({type:"loggedInUser"}).then(function(){e.currUser=e.$store.getters.getcurrLoggedinUser}),this.$store.dispatch({type:"loadDogs"}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.userLoc=e.$store.getters.getUserLoc,e.$store.dispatch({type:"loadSortDogs"}).then(function(){e.sortDog=!0})})})},methods:{openChat:function(e){var t=this;this.$store.dispatch({type:"isChatOpen",dog:e}).then(function(){var r=t.$store.getters.getcurrLoggedinUser;t.$store.getters.isChatOpen&&f.$emit("chatOpen",e,r),p.emit("chat join",t.$store.getters.getcurrLoggedinUser)})},setFilter:function(e){this.$store.dispatch({type:"setFilter",filterBy:e}),this.$store.dispatch({type:"loadDogs"})},deleteDog:function(e){this.$store.dispatch({type:"deleteDog",dogId:e})},userChatWith:function(e){this.$emit("chatWith",e)}},computed:{dogs:function(){var e=this,t=this.$store.getters.dogsToShow;if(null===this.currUser)return t;var r=t.filter(function(t){return t._id!==e.currUser._id});return r}},components:{dogList:Ge,UsersFilter:et}},ft=pt,ht=Object(v["a"])(ft,dt,gt,!1,null,"3ac3179f",null),mt=ht.exports,vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dog&&e.comp?r("section",[r("div",{staticClass:"profile-section"},[r("user-gallery",{attrs:{user:e.dog}})],1),r("div",{staticClass:"container"},[r("main",[r("div",{staticClass:"row"},[r("div",{staticClass:"left col-lg-4"},[r("div",{staticClass:"photo-left"},[r("div",{staticClass:"contain-flex"},[r("div",{staticClass:"user-profile-img"},[r("img",{staticClass:"photo",attrs:{src:e.imgToLoad}}),r("h4",{staticClass:"name"},[e._v(e._s(e.dog.owner.fullName)+" and "+e._s(e.dog.preference.name))]),e.notMyProfile||!e.dog?r("div",{staticClass:"btn-wrapper",class:{alerdyFriend:e.isFriends}},[r("span",{staticClass:"add-friend",on:{click:function(t){return e.addFriend(e.dog._id)}}},[e._v("Add Friend")])]):e._e(),r("span",{staticClass:"like-friend"},[e._v("Likes ("+e._s(e.dog.gotLikes.length)+")")])])])])])]),e.notMyProfile||!e.dog?r("div",{staticClass:"btn-wrapper"}):e._e(),r("div",{staticClass:"row-comp"},[r("v-subheader",[e._v("About Me")]),r("v-divider",{attrs:{inset:""}}),r("p",{staticClass:"desc"},[e._v("\n          "+e._s(e.dog.owner.fullName)+",\n          "+e._s(e.dog.owner.age)+" year old\n          "+e._s(e.dog.preference.name)+" is my dog\n          "+e._s(e.gender)+" is "+e._s(e.dog.preference.type)+"\n          "),e.notMyProfile?r("span",{staticClass:"meta more",attrs:{tooltip:"chat"}},[r("button",{on:{click:function(t){return t.preventDefault(),e.openChat(e.dog)}}},[r("b-icon",{attrs:{icon:"chat-processing"}})],1)]):e._e()]),r("v-subheader",[e._v("Friends")]),r("v-divider",{attrs:{inset:""}}),r("div",{staticStyle:{width:"100%"}},[r("user-friends",{attrs:{user:e.dog},on:{openChat:e.openChat,removeUser:e.removeUser,goTO:e.onGoTo}})],1),r("v-subheader",[e._v("Messages")]),r("v-divider",{attrs:{inset:""}}),r("div",{staticStyle:{width:"100%"}},[r("user-messages",{attrs:{user:e.dog}})],1),r("v-subheader",[e._v("Notfication")]),r("v-divider",{attrs:{inset:""}}),r("a",{staticStyle:{width:"100%"},attrs:{id:"notfication",name:"notfication"}},[e.notMyProfile&&e.dog?e._e():r("user-notfication",{attrs:{user:e.dog},on:{rejectReq:e.rejectFriendReq,makeFriends:e.makeFriendship}})],1)],1)])])]):e._e()},bt=[],yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"gallery"},e._l(e.user.gallery,function(e,t){return r("div",{key:e._id,class:"gallery_item"+ ++t},[r("img",{attrs:{src:e}})])}),0),r("div",{staticClass:"mobile-gallery"},[r("v-carousel",e._l(e.user.gallery,function(e,t){return r("v-carousel-item",{key:t,attrs:{src:e}})}),1)],1)])},kt=[],_t={props:["user"],data:function(){return{num:0}},methods:{},computed:{}},Ut=_t,Ct=(r("27f1"),Object(v["a"])(Ut,yt,kt,!1,null,"7ad17073",null)),wt=Ct.exports,jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("div",{staticClass:"friends-container"},e._l(e.user.friends,function(t){return r("div",{key:t.userId,staticClass:"card"},[r("img",{attrs:{src:t.userImg,alt:"Avatar"},on:{click:function(r){return e.goToUser(t.userId)}}}),r("div",{staticClass:"container"},[r("h4",[r("b",{staticClass:"dogName",on:{click:function(r){return e.goToUser(t.userId)}}},[e._v(e._s(t.userName))])]),r("br"),e.myProfile?r("span",{staticClass:"meta more chat",attrs:{tooltip:"chat"}},[r("button",{on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.openChat(t)}}},[r("b-icon",{attrs:{icon:"chat-processing"}})],1)]):e._e(),e.myProfile?r("span",{staticClass:"meta more remove",attrs:{tooltip:"remove"}},[r("button",{on:{click:function(r){return e.removeUser(t.userId)}}},[r("b-icon",{attrs:{icon:"account-remove"}})],1)]):e._e()])])}),0):e._e()},xt=[],$t={data:function(){return{show:!1}},props:["user"],methods:{openChat:function(e){this.$emit("openChat",e),console.log("prev open")},goToUser:function(e){this.$emit("goTO",e)},removeUser:function(e){this.$emit("removeUser",e)}},computed:{myProfile:function(){return!!this.loggedinUser&&this.loggedinUser._id===this.user._id},loggedinUser:function(){if(this.$store.getters.getcurrLoggedinUser)return this.$store.getters.getcurrLoggedinUser}}},Lt=$t,It=(r("282d"),Object(v["a"])(Lt,jt,xt,!1,null,"0cda9753",null)),Dt=It.exports,Ft=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v(" messages")])},Ot=[],Pt={data:function(){return{}},methods:{}},St=Pt,Nt=Object(v["a"])(St,Ft,Ot,!1,null,null,null),Rt=Nt.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",{staticClass:"userLiList"},[r("v-layout",{attrs:{row:""}},[r("v-flex",[r("v-card",[e.user.gotFriendsReq.length?r("section",[r("v-toolbar",{attrs:{dense:"",expand:"",dark:""}},[r("v-toolbar-title",{staticClass:"text-xs-center"},[e._v("Notfications")]),r("v-spacer")],1)],1):r("section",[r("v-toolbar",{attrs:{dense:"",expand:"",dark:""}},[r("v-toolbar-title",{staticClass:"text-xs-center"},[e._v("Nothing Here.")]),r("v-spacer")],1)],1),r("v-list",{attrs:{subheader:""}},e._l(e.user.gotFriendsReq,function(t){return r("v-list-tile",{key:t.userName,attrs:{avatar:""}},[r("v-list-tile-avatar",[r("img",{attrs:{src:t.userImg}})]),e._v("\n            "+e._s(t.userName)+" Has sent you friend request\n            "),r("v-list-tile-content"),r("v-list-tile-action",[r("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(r){return e.confirmFriendShip(t)}}},[r("b-icon",{attrs:{icon:"account-check"}})],1),r("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(r){return e.rejectFriendReq(t)}}},[r("b-icon",{attrs:{icon:"account-minus"}})],1)],1)],1)}),1),r("v-divider")],1)],1)],1)],1):r("section",{staticClass:"no-notification"},[e._v("Nothing here.")])},Mt=[],qt={props:["user"],data:function(){return{currUser:null}},methods:{confirmFriendShip:function(e){this.$emit("makeFriends",e)},rejectFriendReq:function(e){this.$emit("rejectReq",e)}},computed:{checkIfNotfications:function(){return this.user.gotFriendsReq?"Notfications":"Nothing Here."}}},Et=qt,Bt=(r("e780"),Object(v["a"])(Et,Tt,Mt,!1,null,"4be77b17",null)),Wt=Bt.exports,zt={name:"profile",data:function(){return{isActive:!1,comp:"",loggedinUser:null,isFriends:!1}},mounted:function(){},created:function(){var e=this;this.comp=this.$store.getters.compToShoe;var t=this.$route.params.id;this.$store.dispatch({type:"loadDogById",dogId:t}),this.$store.dispatch({type:"loggedInUser"}).then(function(){e.loggedinUser=e.$store.getters.getcurrLoggedinUser})},methods:{openChat:function(e){var t=this;null!==this.loggedinUser?this.$store.dispatch({type:"loadDogById",dogId:e.userId}).then(function(){var e=t.$store.getters.getDog;console.log("curr dog",e),t.$store.dispatch({type:"isChatOpen",curDog:e}).then(function(){var r=t.$store.getters.getcurrLoggedinUser;t.$store.getters.isChatOpen&&f.$emit("chatOpen",e,r),p.emit("chat join",t.$store.getters.getcurrLoggedinUser)})}):this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},toggleNav:function(){this.isActive=!this.isActive},addLike:function(e){var t=this;if(null===this.loggedinUser)this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3});else{var r=this.loggedinUser.sentLikes;r.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You are already Liked",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendLike",dogId:e}).then(function(){t.$toast.open({message:"Like successfully!",type:"is-success",duration:2e3})})}},addFriend:function(e){var t=this;if(null!==this.loggedinUser){var r=this.loggedinUser.friends,n=this.loggedinUser.sentFriendsReq;r.find(function(e){return e.userId===t.dog._id})?(this.isFriends=!1,this.$toast.open({message:"You are already friend",type:"is-danger",duration:2e3})):n.find(function(e){return e===t.dog._id})?this.$toast.open({message:"You have already sent friend request",type:"is-danger",duration:2e3}):this.$store.dispatch({type:"updateFriendReq",dogId:e}).then(function(){t.$toast.open({message:"friend request successfully sent!",type:"is-success",duration:2e3})})}else this.$toast.open({message:"You need to login",type:"is-danger",duration:2e3})},openCopm:function(e){this.comp=e},onGoTo:function(e){this.$store.dispatch({type:"loadDogById",dogId:e}),this.$router.push("/user/".concat(e))},makeFriendship:function(e){this.$store.dispatch({type:"makeFriendShip",dog:e})},rejectFriendReq:function(e){this.$store.dispatch({type:"rejectFriendShip",dog:e})},removeUser:function(e){console.log(e),this.$store.dispatch({type:"removeFriend",dogId:e}),this.$toast.open({message:"Remove friend successfully",type:"is-success",duration:2e3})}},computed:{notMyProfile:function(){return!this.loggedinUser||this.loggedinUser._id!==this.dog._id},dog:function(){return this.$store.getters.getDog},gender:function(){return"female"===this.dog.preference.gender?"she":"he"},who:function(){return this.dog.owner.fullName},imgToLoad:function(){return this.dog.profileImg?this.dog.profileImg:"https://www.sunnyskyz.com/uploads/2016/12/nlf37-dog.jpg"},backImgToLoad:function(){return this.dog.profileImg?this.dog.backImg:"https://www.sunnyskyz.com/uploads/2016/12/nlf37-dog.jpg"}},components:{UserGallery:wt,UserFriends:Dt,UserMessages:Rt,UserNotfication:Wt}},At=zt,Yt=(r("3b29"),Object(v["a"])(At,vt,bt,!1,null,"3384fb06",null)),Vt=Yt.exports,Jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"parkDetails"},[e.park?r("user-list-map",{staticClass:"map",attrs:{currPark:e.park}}):e._e(),e.park?r("user-li-list",{staticClass:"list",attrs:{currPark:e.park}}):e._e()],1)},Gt=[],Ht={name:"parkDetails",components:{UserListMap:we,userLiList:ke},created:function(){this.park=this.$store.getters.getCurrPark},data:function(){return{park:null}}},Kt=Ht,Xt=(r("6c8e"),Object(v["a"])(Kt,Jt,Gt,!1,null,"b990baa6",null)),Qt=Xt.exports,Zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.copyDog?r("section",{staticClass:"edit-user"},[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.updateDog(t)}}},[r("v-text-field",{attrs:{name:"name",label:"Full name",type:"text"},model:{value:e.copyDog.owner.fullName,callback:function(t){e.$set(e.copyDog.owner,"fullName",t)},expression:"copyDog.owner.fullName"}}),r("v-text-field",{attrs:{name:"name",label:"Dog Name",type:"text"},model:{value:e.copyDog.preference.name,callback:function(t){e.$set(e.copyDog.preference,"name",t)},expression:"copyDog.preference.name"}}),r("v-text-field",{attrs:{name:"name",label:"Dog Type",type:"text"},model:{value:e.copyDog.preference.type,callback:function(t){e.$set(e.copyDog.preference,"type",t)},expression:"copyDog.preference.type"}}),r("v-text-field",{attrs:{name:"name",label:"Address",type:"text"},model:{value:e.copyDog.address,callback:function(t){e.$set(e.copyDog,"address",t)},expression:"copyDog.address"}}),r("v-text-field",{attrs:{name:"name",label:"Profile Img",type:"text"},model:{value:e.copyDog.profileImg,callback:function(t){e.$set(e.copyDog,"profileImg",t)},expression:"copyDog.profileImg"}}),r("div",{staticClass:"field"},[r("b-checkbox",{model:{value:e.copyDog.isAdmin,callback:function(t){e.$set(e.copyDog,"isAdmin",t)},expression:"copyDog.isAdmin"}},[e._v("Is Admin?")])],1),r("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){return e.updateDog(t)}}},[e._v("save")])],1)],1):e._e()},er=[],tr={data:function(){return{copyDog:null}},created:function(){var e=this;this.$store.dispatch({type:"loadDogById",dogId:this.$route.params.id}).then(function(){e.copyDog=JSON.parse(JSON.stringify(e.$store.getters.getDog))})},methods:{updateDog:function(e){var t=this;this.$store.dispatch({type:"updateDog",dog:this.copyDog}).then(function(){t.$router.push("/user")})}}},rr=tr,nr=(r("5122"),Object(v["a"])(rr,Zt,er,!1,null,null,null)),sr=nr.exports,or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.userLoc?r("section",{staticClass:"parksFeed",staticStyle:{}},[r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.gardens,function(e){return r("v-flex",{key:e.id,attrs:{xs12:"",sm6:"",mb4:"",lg3:""}},[r("parkPrev",{attrs:{park:e}})],1)}),1)],1):e._e()},ir=[],ar={name:"parksFeed",data:function(){return{distance:"",userLoc:null,gardens:[],photos:[]}},components:{parkPrev:Oe},created:function(){var e=this;J.getPosition().then(function(t){e.userLoc={position:{lat:t.coords.latitude,lng:t.coords.longitude}},pe.getInfo(e.userLoc.position).then(function(t){for(var r=0;r<t.length;r++)e.gardens.push(t[r]),e.gardens[r].photos.length>0?e.photos.push(e.gardens[r].photos[0].photo_reference):e.photos.push("https://farm66.static.flickr.com/65535/47022341624_c26416f670_b.jpg"),e.gardens[r].photos[0].photo_reference&&(e.gardens[r].img="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=".concat(e.gardens[r].photos[0].photo_reference,"&key=AIzaSyCrVxVPta_TOsFatlYL7vOx_stAJNlV8ws"));var n=JSON.parse(JSON.stringify(e.gardens));e.$store.dispatch({type:"loadParks",gardens:n}).then(function(){e.$store.dispatch({type:"loadUserLoc"}).then(function(){e.$store.dispatch({type:"loadParksLocFromUser"}).then(function(){e.gardens=e.$store.getters.getParks})})})})})},computed:{}},cr=ar,ur=Object(v["a"])(cr,or,ir,!1,null,null,null),lr=ur.exports;n["default"].use(S["a"]);var dr=new S["a"]({routes:[{path:"/",component:st},{path:"/signup",component:lt},{path:"/user",component:mt},{path:"/user/:id",component:Vt},{path:"/user/edit/:id",component:sr},{path:"/user/edit",component:sr},{path:"/park-details",component:Qt},{path:"/park",component:Re},{path:"/parks",component:lr}]}),gr=(r("ac6a"),r("20d6"),r("55dd"),r("2f62"));n["default"].use(gr["a"]);var pr=new gr["a"].Store({strict:!0,state:{filterBy:null,dogs:[],sortByDistanceDogs:null,userLoc:null,currPark:null,parks:null,compInProfile:"Gallery",isChatOpen:!1,currUserChatWith:null,loggedinUser:null,dog:null,currUser:null},mutations:{setIsOpenChat:function(e,t){var r=t.dog;e.isChatOpen=!e.isChatOpen,e.currUserChatWith=r},updateCompInProfile:function(e,t){var r=t.comp;e.compInProfile=r},setFilter:function(e,t){e.filterBy=JSON.parse(JSON.stringify(t))},setLoc:function(e,t){var r=t.pos;e.userLoc={position:{lat:r.coords.latitude,lng:r.coords.longitude}}},setFilterBy:function(e,t){var r=t.filterBy;e.filterBy=r},setSortDogs:function(e,t){for(var r=t.res,n=0;n<e.dogs.length;n++)e.dogs[n].distanceTextFromUser=r.elements[n].distance.text,e.dogs[n].distanceValueFromUser=r.elements[n].distance.value;e.currPark||e.dogs.sort(function(e,t){return e.distanceValueFromUser-t.distanceValueFromUser})},setSortParksNearUser:function(e,t){for(var r=t.res,n=0;n<e.parks.length;n++)e.parks[n].distanceTextFromUser=r.elements[n].distance.text,e.parks[n].distanceValueFromUser=r.elements[n].distance.value},setSortDogsByMap:function(e,t){for(var r=t.res,n=0;n<e.dogs.length;n++)e.dogs[n].distanceTextFromMap=r.elements[n].distance.text,e.dogs[n].distanceValueFromMap=r.elements[n].distance.value;e.dogs.sort(function(e,t){return e.distanceValueFromUser-t.distanceValueFromUser})},setDogs:function(e,t){var r=t.dogs;e.dogs=r},deleteDog:function(e,t){var r=t.dogId,n=e.dogs.findIndex(function(e){return e._id===r});e.dogs.splice(n,1)},addDog:function(e,t){var r=t.dog;e.dogs.unshift(r)},setCurrPark:function(e,t){var r=t.park;e.currPark=r},setParks:function(e,t){var r=t.gardens;e.parks=r},removeDogFriendShip:function(e,t){var r,n=t.updatedDog,s=e.dogs.findIndex(function(e){return e._id===n});e.dogs.forEach(function(e){e._id===n&&(r=e)}),r.friends.forEach(function(t,n){t.userId===e.currUser._id&&r.friends.splice(n,1)}),e.currUser.friends.forEach(function(t,n){t.userId===r._id&&e.currUser.friends.splice(n,1)});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,r),e.dog=e.currUser},rejectDogFriendShip:function(e,t){var r,n=t.updatedDog,s=e.dogs.findIndex(function(e){return e._id===n.userId});e.dogs.forEach(function(e){e._id===n.userId&&(r=e)}),r.sentFriendsReq.forEach(function(t,n){t===e.currUser._id&&r.sentFriendsReq.splice(n,1)}),e.currUser.gotFriendsReq.forEach(function(t,n){t.userId===r._id&&e.currUser.gotFriendsReq.splice(n,1)});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,r),e.dog=e.currUser},updateDogFriendShip:function(e,t){var r=t.updatedDog;console.log(e.dogs);var n,s=e.dogs.findIndex(function(e){return e._id===r.userId});e.dogs.forEach(function(e){e._id===r.userId&&(n=e)}),n.friends.push({userId:e.currUser._id,userImg:e.currUser.profileImg,userName:e.currUser.owner.fullName}),e.currUser.friends.push(r),n.sentFriendsReq.forEach(function(t,r){t===e.currUser._id&&n.sentFriendsReq.splice(r,1)}),e.currUser.gotFriendsReq.forEach(function(t,r){t.userId===n._id&&e.currUser.gotFriendsReq.splice(r,1)});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,n),e.dog=e.currUser},updateDogFriendReq:function(e,t){var r,n=t.updatedDogId,s=e.dogs.findIndex(function(e){return e._id===n});e.dogs.forEach(function(e){e._id===n&&(r=e)}),r.gotFriendsReq.push({userId:e.currUser._id,userImg:e.currUser.profileImg,userName:e.currUser.owner.fullName});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.currUser.sentFriendsReq.push(n),e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,r)},updateDogLikes:function(e,t){var r,n=t.updatedDogId,s=e.dogs.findIndex(function(e){return e._id===n});e.dogs.forEach(function(e){e._id===n&&(r=e)}),r.gotLikes.push({userId:e.currUser._id,userImg:e.currUser.profileImg,userName:e.currUser.owner.fullName});var o=e.dogs.findIndex(function(t){return t._id===e.currUser._id});e.currUser.sentLikes.push(n),e.dogs.splice(o,1,e.currUser),e.dogs.splice(s,1,r)},updateDog:function(e,t){var r=t.dog,n=e.dogs.findIndex(function(e){return e._id===r._id});e.dogs.splice(n,1,r)},setDog:function(e,t){var r=t.dog;e.dog=r},setLoginUser:function(e,t){var r=t.currUserLoggedIn;e.currUser=r},setLoggedUser:function(e,t){var r=t.userLoggedNow;e.currUser=r},setLoggedOutUser:function(e){e.currUser=null}},getters:{compToShoe:function(e){return e.compInProfile},userYouChatWith:function(e){return e.currUserChatWith},dogsToShow:function(e){return e.dogs},getCurrPark:function(e){return e.currPark},getParks:function(e){return e.parks},isChatOpen:function(e){return e.isChatOpen},getUserLoc:function(e){return e.userLoc},getNotfications:function(e){return e.currUser.gotFriendsReq},gotLikes:function(e){return e.currUser.gotLikes},getLoggedinUser:function(e){return e.currUser},getcurrLoggedinUser:function(e){return e.currUser},getDog:function(e){return e.dog}},actions:{isChatOpen:function(e,t){var r=t.dog;e.commit({type:"setIsOpenChat",dog:r})},loadSortDogs:function(e){for(var t=[],r=0;r<e.state.dogs.length;r++)t.push(e.state.dogs[r].location.lat+","+e.state.dogs[r].location.lng);t=t.join("|"),pe.getDist({userLoc:e.state.userLoc.position.lat+","+e.state.userLoc.position.lng,usersLoc:t}).then(function(t){return e.commit({type:"setSortDogs",res:t}),t}),e.state.currPark&&pe.getDist({userLoc:e.state.currPark.geometry.location.lat+","+e.state.currPark.geometry.location.lng,usersLoc:t}).then(function(t){return e.commit({type:"setSortDogsByMap",res:t}),t})},loadCompInProfile:function(e,t){var r=t.comp;return e.commit({type:"updateCompInProfile",comp:r}),r},loadParks:function(e,t){var r=t.gardens;e.commit({type:"setParks",gardens:r})},loadParksLocFromUser:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var r,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(r=[],n=0;n<t.state.parks.length;n++)r.push(t.state.parks[n].geometry.location.lat+","+t.state.parks[n].geometry.location.lng);return r=r.join("|"),e.prev=3,e.next=6,pe.getDist({userLoc:t.state.userLoc.position.lat+","+t.state.userLoc.position.lng,usersLoc:r});case 6:return s=e.sent,t.commit({type:"setSortParksNearUser",res:s}),e.abrupt("return",s);case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));function t(t){return e.apply(this,arguments)}return t}(),loadDogs:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,null!==t.state.filterBy){e.next=8;break}return n="",e.next=5,J.query(n);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,J.query(t.state.filterBy);case 10:r=e.sent;case 11:return t.commit({type:"setDogs",dogs:r}),t.commit({type:"setFilterBy",filterBy:""}),e.abrupt("return",r);case 16:e.prev=16,e.t0=e["catch"](0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));function t(t){return e.apply(this,arguments)}return t}(),loadUserLoc:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.getPosition();case 3:return r=e.sent,t.commit({type:"setLoc",pos:r}),e.abrupt("return",r);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),loadDogById:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dogId,e.prev=1,e.next=4,J.getById(n);case 4:return s=e.sent,t.commit({type:"setDog",dog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),deleteDog:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.remove(r.dogId);case 3:t.commit({type:"deleteDog",dogId:r.dogId}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t,r){return e.apply(this,arguments)}return t}(),addDog:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dog,e.prev=1,e.next=4,J.add(n);case 4:return s=e.sent,t.commit({type:"addDog",dog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateDog:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dog,e.prev=1,e.next=4,J.update(n);case 4:return s=e.sent,t.commit({type:"updateDog",dog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),goToPark:function(e,t){var r=t.park;e.commit({type:"setCurrPark",park:r})},setFilter:function(e,t){var r=t.filterBy;e.commit({type:"setFilterBy",filterBy:r})},userLogout:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.logOut();case 3:t.commit({type:"setLoggedOutUser"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));function t(t){return e.apply(this,arguments)}return t}(),userSignup:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.user,e.prev=1,e.next=4,J.signUp(n);case 4:s=e.sent,console.log("This is Great signup!",s),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),userLogin:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.currUser,e.prev=1,e.next=4,J.logIn(n);case 4:s=e.sent,t.commit({type:"setLoginUser",currUserLoggedIn:s}),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));function t(t,r){return e.apply(this,arguments)}return t}(),removeFriend:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dogId,e.prev=1,e.next=4,J.removeFriendship(n);case 4:return s=e.sent,t.commit({type:"removeDogFriendShip",updatedDog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),rejectFriendShip:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dog,e.prev=1,e.next=4,J.rejectFriendshipOn(n);case 4:return s=e.sent,t.commit({type:"rejectDogFriendShip",updatedDog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),makeFriendShip:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dog,e.prev=1,e.next=4,J.makeFriendshipOn(n);case 4:return s=e.sent,t.commit({type:"updateDogFriendShip",updatedDog:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateFriendLike:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dogId,e.prev=1,e.next=4,J.addLike(n);case 4:return s=e.sent,t.commit({type:"updateDogLikes",updateDogId:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),updateFriendReq:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t,r){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=r.dogId,e.prev=1,e.next=4,J.sendFriendReq(n);case 4:return s=e.sent,t.commit({type:"updateDogFriendReq",updatedDogId:s}),e.abrupt("return",s);case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));function t(t,r){return e.apply(this,arguments)}return t}(),loggedInUser:function(){var e=Object(q["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.getLoggedinUser();case 3:r=e.sent,null===r?t.commit({type:"setLoggedUser",userLoggedNow:null}):t.commit({type:"setLoggedUser",userLoggedNow:r}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));function t(t){return e.apply(this,arguments)}return t}()}}),fr=r("c1df"),hr=r.n(fr);n["default"].filter("formatNum",function(e){return e.toLocaleString()}),n["default"].filter("timeAgo",function(e){return hr()(e).format("LLL")});var mr=r("94839");Object(mr["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var vr=r("755e"),br=r("8a03"),yr=r.n(br),kr=(r("5abe"),r("ce5b")),_r=r.n(kr),Ur=(r("bf40"),r("5363"),r("0086")),Cr=r.n(Ur);n["default"].use(yr.a),n["default"].use(_r.a),n["default"].use(_r.a,{iconfont:"mdi"}),n["default"].use(Cr.a),n["default"].config.productionTip=!1,n["default"].use(vr,{load:{key:"AIzaSyCrVxVPta_TOsFatlYL7vOx_stAJNlV8ws",libraries:"places"}}),new n["default"]({router:dr,store:pr,render:function(e){return e(P)}}).$mount("#app")},"5ae7":function(e,t,r){"use strict";var n=r("897f"),s=r.n(n);s.a},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),s=r.n(n);s.a},"5e27":function(e,t,r){},6321:function(e,t,r){},"6c8e":function(e,t,r){"use strict";var n=r("f8ab"),s=r.n(n);s.a},7421:function(e,t,r){},8810:function(e,t,r){},"897f":function(e,t,r){},"8a8a":function(e,t,r){"use strict";var n=r("c0af"),s=r.n(n);s.a},9483:function(e,t,r){},"96fa":function(e,t,r){e.exports=r.p+"img/home-mobile.6922cb6e.svg"},"9d54":function(e,t,r){e.exports=r.p+"img/home.3a971777.svg"},"9e1a":function(e,t,r){"use strict";var n=r("cbce"),s=r.n(n);s.a},a35a:function(e,t,r){},a4be:function(e,t,r){"use strict";var n=r("1bc9"),s=r.n(n);s.a},a5fc:function(e,t,r){"use strict";var n=r("239b"),s=r.n(n);s.a},b04d:function(e,t,r){"use strict";var n=r("3ae4"),s=r.n(n);s.a},c0af:function(e,t,r){},c654:function(e,t,r){"use strict";var n=r("3f4e"),s=r.n(n);s.a},cbce:function(e,t,r){},da3f:function(e,t,r){},e780:function(e,t,r){"use strict";var n=r("da3f"),s=r.n(n);s.a},f8ab:function(e,t,r){},f9d9:function(e,t,r){"use strict";var n=r("6321"),s=r.n(n);s.a}});
//# sourceMappingURL=app.212e02ac.js.map